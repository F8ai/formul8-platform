import{m,j as e,B as y,C as a,d as r,a as v,b as N,f as w,p as x,n as C}from"./index-CDF1r-gK.js";import{A}from"./arrow-left-BApzaTkK.js";import{C as T}from"./circle-x-f4oyK_p7.js";function E({agentId:n}){const{data:i,isLoading:u}=m({queryKey:[`/api/baseline-exam/results/${n}`],retry:!1});if(m({queryKey:[`/api/agents/${n}/repository-stats`],retry:!1}),u)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading test results..."})]})});const c={compliance:{emoji:"🛡️",name:"Compliance Agent",color:"blue"},patent:{emoji:"⚖️",name:"Patent Agent",color:"purple"},operations:{emoji:"⚙️",name:"Operations Agent",color:"green"},formulation:{emoji:"🧪",name:"Formulation Agent",color:"teal"},sourcing:{emoji:"🛒",name:"Sourcing Agent",color:"orange"},marketing:{emoji:"📢",name:"Marketing Agent",color:"pink"},science:{emoji:"🔬",name:"Science Agent",color:"indigo"},spectra:{emoji:"📊",name:"Spectra Agent",color:"cyan"},"customer-success":{emoji:"🤝",name:"Customer Success Agent",color:"emerald"}}[n]||{emoji:"🤖",name:"Agent",color:"gray"},g=s=>{switch(s){case"passed":return e.jsx(C,{className:"w-5 h-5 text-green-600"});case"failed":return e.jsx(T,{className:"w-5 h-5 text-red-600"});case"active":return e.jsx(x,{className:"w-5 h-5 text-yellow-600"});default:return e.jsx(x,{className:"w-5 h-5 text-gray-400"})}},h=s=>{switch(s){case"passed":return"bg-green-100 text-green-800 border-green-200";case"failed":return"bg-red-100 text-red-800 border-red-200";case"active":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},l=s=>s>=90?"text-green-600":s>=80?"text-blue-600":s>=70?"text-yellow-600":"text-red-600",t=(i==null?void 0:i.questions)||[{id:1,question:"What are the cultivation license requirements in California?",expectedAnswer:"Valid cultivation license from California Cannabis Industry Association, track-and-trace compliance with METRC system, local municipal permits, security requirements including cameras and alarm systems, waste disposal protocols, and compliance with CEQA environmental regulations.",actualAnswer:"Valid cultivation license, track-and-trace compliance, local permits required for operation",status:"passed",confidence:85,category:"Licensing",timestamp:"2025-01-13T20:00:00Z",executionTime:2.3},{id:2,question:"What is the THC testing requirement in Colorado?",expectedAnswer:"All cannabis products must be tested by state-licensed laboratory for potency, pesticides, heavy metals, residual solvents, and microbials. THC content must be accurately labeled with ±15% variance allowance.",actualAnswer:"Products must test below 1% THC content",status:"failed",confidence:45,category:"Testing",timestamp:"2025-01-13T19:55:00Z",executionTime:1.8},{id:3,question:"What packaging requirements exist in Massachusetts?",expectedAnswer:"Child-resistant packaging required, opaque containers that prevent product visibility, proper labeling with warnings, batch tracking information, and compliance with state packaging regulations including size restrictions.",actualAnswer:"Child-resistant packaging, proper labeling requirements, opaque containers for all products",status:"passed",confidence:92,category:"Packaging",timestamp:"2025-01-13T19:50:00Z",executionTime:3.1}],o=t.length,p=t.filter(s=>s.status==="passed").length,j=t.filter(s=>s.status==="failed").length,b=t.filter(s=>s.status==="active").length,d=Math.round(t.reduce((s,f)=>s+f.confidence,0)/o);return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs(y,{variant:"outline",onClick:()=>window.history.back(),className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4"}),"Back"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-3xl",children:c.emoji}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:c.name}),e.jsx("p",{className:"text-gray-600",children:"Baseline Test Results"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-8",children:[e.jsx(a,{children:e.jsxs(r,{className:"p-4 text-center",children:[e.jsxs("div",{className:`text-2xl font-bold ${l(d)}`,children:[d,"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Avg Confidence"})]})}),e.jsx(a,{children:e.jsxs(r,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:o}),e.jsx("div",{className:"text-sm text-gray-500",children:"Total Tests"})]})}),e.jsx(a,{children:e.jsxs(r,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:p}),e.jsx("div",{className:"text-sm text-gray-500",children:"Passed"})]})}),e.jsx(a,{children:e.jsxs(r,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:j}),e.jsx("div",{className:"text-sm text-gray-500",children:"Failed"})]})}),e.jsx(a,{children:e.jsxs(r,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:b}),e.jsx("div",{className:"text-sm text-gray-500",children:"Active"})]})})]}),e.jsxs(a,{children:[e.jsx(v,{children:e.jsx(N,{children:"Individual Test Results"})}),e.jsxs(r,{children:[e.jsx("div",{className:"space-y-4",children:t.map(s=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[g(s.status),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:s.question}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[e.jsx(w,{variant:"outline",className:h(s.status),children:s.status.toUpperCase()}),e.jsxs("span",{children:["Category: ",s.category]}),e.jsxs("span",{children:["Execution: ",s.executionTime,"s"]})]})]})]}),e.jsxs("div",{className:`text-lg font-bold ${l(s.confidence)}`,children:[s.confidence,"%"]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Expected Answer"}),e.jsx("p",{className:"text-sm text-gray-700 bg-green-50 p-3 rounded border border-green-200",children:s.expectedAnswer})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Actual Answer"}),e.jsx("p",{className:`text-sm p-3 rounded border ${s.status==="passed"?"text-gray-700 bg-blue-50 border-blue-200":"text-gray-700 bg-red-50 border-red-200"}`,children:s.actualAnswer})]})]}),e.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:["Executed: ",new Date(s.timestamp).toLocaleString()]})]},s.id))}),t.length===0&&e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("p",{children:"No test results available for this agent."}),e.jsx("p",{className:"text-sm mt-2",children:"Test results will appear here once baseline exams are executed."})]})]})]})]})}export{E as default};
