import{r as P,m as S,j as e,af as z,w as p,B as v,R as k,K as q,f as b,T as B,i as I,k as m,l as h,C as n,a as d,b as x,d as o,c as g,n as w}from"./index-CDF1r-gK.js";import{T as C}from"./trending-up-nueEWtNi.js";import{T as F}from"./target-BuD1lpm9.js";import{T as Q}from"./trending-down-DAxZ4qVS.js";function O(){const[A,D]=P.useState("all"),{data:u,isLoading:R,refetch:N}=S({queryKey:["/api/baseline/assessment",A],refetchInterval:3e4}),y=s=>s>=85?"bg-green-500 text-white":s>=70?"bg-green-400 text-white":s>=60?"bg-yellow-500 text-white":s>=40?"bg-orange-500 text-white":"bg-red-500 text-white",T=s=>s>=85?{icon:w,label:"Excellent",color:"text-green-600"}:s>=70?{icon:C,label:"Good",color:"text-green-500"}:s>=60?{icon:F,label:"Acceptable",color:"text-yellow-500"}:s>=40?{icon:Q,label:"Needs Improvement",color:"text-orange-500"}:{icon:p,label:"Critical",color:"text-red-500"};if(R)return e.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[e.jsx(z,{className:"w-8 h-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading baseline assessment..."})]});if(!u)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(p,{className:"w-12 h-12 mx-auto mb-4 text-yellow-500"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Baseline Assessment Unavailable"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Unable to load baseline question performance data."}),e.jsxs(v,{onClick:()=>N(),children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Retry Assessment"]})]})});const i=u;return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[e.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-full",children:e.jsx(q,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Baseline Assessment Analysis"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Performance analysis of baseline questions by category and difficulty"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(b,{variant:"outline",className:"px-3 py-1",children:[i.reduce((s,t)=>s+t.overallStats.totalQuestions,0)," Total Questions"]}),e.jsxs(v,{onClick:()=>N(),variant:"outline",size:"sm",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),e.jsxs(B,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(I,{className:"grid w-full grid-cols-4",children:[e.jsx(m,{value:"overview",children:"Overview"}),e.jsx(m,{value:"heatmap",children:"Performance Heatmap"}),e.jsx(m,{value:"agents",children:"By Agent"}),e.jsx(m,{value:"recommendations",children:"Recommendations"})]}),e.jsxs(h,{value:"overview",className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6",children:i.map(s=>{const t=T(s.overallStats.overallPassRate),r=t.icon;return e.jsxs(n,{children:[e.jsx(d,{className:"pb-3",children:e.jsx(x,{className:"text-sm font-medium capitalize",children:s.agentName.replace("-agent","")})}),e.jsxs(o,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"text-2xl font-bold",children:[s.overallStats.overallPassRate.toFixed(1),"%"]}),e.jsx(r,{className:`w-5 h-5 ${t.color}`})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[s.overallStats.totalQuestions," questions"]}),e.jsx(b,{variant:"secondary",className:"text-xs",children:t.label})]})]})]},s.agentName)})}),e.jsxs(n,{children:[e.jsxs(d,{children:[e.jsx(x,{children:"Category Distribution"}),e.jsx(g,{children:"Number of questions by category across all agents"})]}),e.jsx(o,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:(()=>{const s=new Set,t={};return i.forEach(r=>{Object.entries(r.overallStats.categoryCounts).forEach(([a,l])=>{s.add(a),t[a]=(t[a]||0)+l})}),Array.from(s).map(r=>e.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:t[r]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize",children:r.replace("_"," ")})]},r))})()})})]})]}),e.jsx(h,{value:"heatmap",className:"space-y-6",children:e.jsxs(n,{children:[e.jsxs(d,{children:[e.jsx(x,{children:"Performance Heatmap"}),e.jsx(g,{children:"Pass rates by category and difficulty - darker colors indicate higher pass rates"})]}),e.jsxs(o,{children:[i.map(s=>e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 capitalize",children:[s.agentName.replace("-agent","")," Agent"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-gray-300 dark:border-gray-600 p-2 bg-gray-100 dark:bg-gray-800 text-left",children:"Category"}),["basic","intermediate","advanced"].map(t=>e.jsx("th",{className:"border border-gray-300 dark:border-gray-600 p-2 bg-gray-100 dark:bg-gray-800 text-center capitalize",children:t},t))]})}),e.jsx("tbody",{children:s.categories.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2 font-medium capitalize",children:t.replace("_"," ")}),["basic","intermediate","advanced"].map(r=>{const a=s.metrics.find(l=>l.category===t&&l.difficulty===r);return!a||a.total===0?e.jsx("td",{className:"border border-gray-300 dark:border-gray-600 p-2 text-center bg-gray-100 dark:bg-gray-700",children:e.jsx("span",{className:"text-gray-400",children:"-"})},r):e.jsxs("td",{className:"border border-gray-300 dark:border-gray-600 p-2 text-center",children:[e.jsxs("div",{className:`px-2 py-1 rounded text-sm font-medium ${y(a.passRate)}`,children:[a.passRate.toFixed(0),"%"]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[a.passed,"/",a.total]})]},r)})]},t))})]})})]},s.agentName)),e.jsxs("div",{className:"mt-6 flex items-center space-x-4",children:[e.jsx("span",{className:"text-sm font-medium",children:"Pass Rate:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"px-2 py-1 rounded text-xs bg-red-500 text-white",children:"0-39%"}),e.jsx("div",{className:"px-2 py-1 rounded text-xs bg-orange-500 text-white",children:"40-59%"}),e.jsx("div",{className:"px-2 py-1 rounded text-xs bg-yellow-500 text-white",children:"60-69%"}),e.jsx("div",{className:"px-2 py-1 rounded text-xs bg-green-400 text-white",children:"70-84%"}),e.jsx("div",{className:"px-2 py-1 rounded text-xs bg-green-500 text-white",children:"85%+"})]})]})]})]})}),e.jsx(h,{value:"agents",className:"space-y-6",children:i.map(s=>e.jsxs(n,{children:[e.jsxs(d,{children:[e.jsxs(x,{className:"capitalize",children:[s.agentName.replace("-agent","")," Agent Performance"]}),e.jsxs(g,{children:["Detailed breakdown of ",s.overallStats.totalQuestions," baseline questions"]})]}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:s.overallStats.totalQuestions}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Questions"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[s.overallStats.overallPassRate.toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Overall Pass Rate"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:s.categories.length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Categories"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium",children:"Performance by Category"}),s.categories.map(t=>{const r=s.metrics.filter(c=>c.category===t),a=r.reduce((c,j)=>c+j.total,0),l=r.reduce((c,j)=>c+j.passed,0),f=a>0?l/a*100:0;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium capitalize",children:t.replace("_"," ")}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[l,"/",a," questions passed"]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(b,{className:y(f),children:[f.toFixed(0),"%"]})})]},t)})]})]})})]},s.agentName))}),e.jsx(h,{value:"recommendations",className:"space-y-6",children:e.jsxs(n,{children:[e.jsxs(d,{children:[e.jsx(x,{children:"Performance Recommendations"}),e.jsx(g,{children:"Areas for improvement based on baseline assessment analysis"})]}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-6",children:[i.map(s=>{const t=s.metrics.filter(a=>a.passRate<60),r=s.metrics.filter(a=>a.passRate>=60&&a.passRate<85);return e.jsxs("div",{className:"border-l-4 border-l-blue-500 pl-4",children:[e.jsxs("h3",{className:"text-lg font-semibold capitalize mb-3",children:[s.agentName.replace("-agent","")," Agent"]}),t.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("h4",{className:"font-medium text-red-600 dark:text-red-400 mb-2 flex items-center",children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"Critical Areas (","<","60% pass rate)"]}),e.jsx("ul",{className:"space-y-1 text-sm",children:t.map((a,l)=>e.jsxs("li",{className:"text-gray-600 dark:text-gray-400",children:["• ",a.category.replace("_"," ")," (",a.difficulty,"): ",a.passRate.toFixed(0),"% (",a.passed,"/",a.total,")"]},l))})]}),r.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("h4",{className:"font-medium text-yellow-600 dark:text-yellow-400 mb-2 flex items-center",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Areas for Improvement (60-84% pass rate)"]}),e.jsx("ul",{className:"space-y-1 text-sm",children:r.slice(0,3).map((a,l)=>e.jsxs("li",{className:"text-gray-600 dark:text-gray-400",children:["• ",a.category.replace("_"," ")," (",a.difficulty,"): ",a.passRate.toFixed(0),"% (",a.passed,"/",a.total,")"]},l))})]}),t.length===0&&r.length===0&&e.jsxs("div",{className:"flex items-center text-green-600 dark:text-green-400",children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm",children:"All areas performing well (≥85% pass rate)"})]})]},s.agentName)}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"General Recommendations"}),e.jsxs("ul",{className:"space-y-1 text-sm text-blue-700 dark:text-blue-300",children:[e.jsxs("li",{children:["• Focus improvement efforts on categories with ","<","60% pass rates"]}),e.jsx("li",{children:"• Review and update expected answers for failing questions"}),e.jsx("li",{children:"• Consider adding more training data for weak categories"}),e.jsx("li",{children:"• Implement regular baseline testing to track improvements"}),e.jsx("li",{children:"• Analyze question difficulty distribution for balance"})]})]})]})})]})})]})]})})}export{O as default};
