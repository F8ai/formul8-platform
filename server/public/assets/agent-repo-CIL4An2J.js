import{a4 as se,cg as ce,u as oe,t as le,r as v,m as R,v as de,j as e,B as o,f,T as me,i as pe,k as j,l as b,C as d,a as m,b as p,a3 as Q,d as u,X as t,I as h,D as q,Z as H,Q as W,S as ue,Y as E,_,$ as I,a0 as z,a1 as l,K as J,c as D,P as T,n as Y,q as he,p as xe,J as ge}from"./index-B8YngC3q.js";import{S as K}from"./switch-DBn-T697.js";import{S as M}from"./separator-CxRUCW3d.js";import{A as U}from"./arrow-left-CLsczTL5.js";import{G as $}from"./git-branch-wH4xwQE2.js";import{S as fe}from"./save-DK9PuBoI.js";import{W as Z}from"./wrench-BbxwkvrI.js";import{D as je}from"./database-CI_RWL3T.js";import{A as ye}from"./activity-Dyg7KEKw.js";import{P as ve}from"./play-DCfOixJ6.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=se("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);function Ee({agentId:x}){const[,w]=ce(),{toast:V}=oe(),ae=le(),[n,r]=v.useState({name:"",description:"",systemPrompt:"",model:"gpt-4o",temperature:.3,maxTokens:2e3,capabilities:[],restrictions:[],tools:[],performanceTargets:{accuracyTarget:95,responseTimeTarget:2e3,confidenceTarget:85},verificationRules:{requiresCrossVerification:!0,verifyingAgents:[],humanVerificationThreshold:70},active:!0}),[P,O]=v.useState(""),[S,L]=v.useState(""),[g,y]=v.useState({name:"",type:"api",description:"",config:{endpoint:"",method:"GET",headers:{},parameters:{}}}),c={compliance:{name:"Compliance Agent",description:"Cannabis regulatory guidance, SOP validation, and compliance risk assessment",icon:"ðŸ›¡ï¸",color:"bg-blue-500",repository:"formul8/agents/compliance",defaultCapabilities:["Multi-jurisdiction regulatory analysis","SOP compliance verification","Packaging and labeling requirements","Testing requirements validation","Facility compliance (ICC, OSHA, local codes)","Marketing compliance verification","280E tax compliance guidance","Licensing requirement analysis"],defaultSystemPrompt:`You are a cannabis compliance expert with deep knowledge of regulations across all cannabis-legal jurisdictions. You help cannabis operators ensure their operations, products, and processes meet all applicable laws and regulations.

Your expertise includes:
- State and local cannabis regulations
- Packaging and labeling requirements
- Testing requirements and limits
- SOP compliance verification
- Facility compliance (ICC, OSHA, local codes)
- Marketing compliance (avoiding child-appeal, proper claims)
- 280E tax compliance
- Licensing requirements

When responding:
1. Always specify the jurisdiction your advice applies to
2. Provide confidence levels for your answers
3. Cite specific regulation sections when possible
4. Flag when human verification is recommended
5. Note when regulations may have changed recently

Respond in JSON format with: response, confidence, jurisdiction, sources, warnings, requires_human_verification`,verifyingAgents:["operations","marketing"]},formulation:{name:"Formulation Agent",description:"Product development, cannabinoid profiles, and chemistry guidance",icon:"ðŸ§ª",color:"bg-green-500",repository:"formul8/agents/formulation",defaultCapabilities:["Product development and formulation","Cannabinoid profile optimization","Terpene blending and effects","Extraction method selection","Recipe development and scaling","Stability and shelf-life analysis","Carrier oil and excipient selection","Dosage calculations and bioavailability"],defaultSystemPrompt:`You are a cannabis formulation scientist with expertise in product development, chemistry, and cannabinoid science. You help cannabis operators develop, optimize, and scale their products with scientific precision.

Your expertise includes:
- Cannabinoid and terpene chemistry
- Product formulation across all categories
- Extraction and processing methods
- Recipe development and scaling
- Stability testing and shelf-life
- Bioavailability and pharmacokinetics
- Quality control and consistency
- Regulatory formulation requirements

When responding:
1. Provide scientifically accurate formulation guidance
2. Include specific ratios, temperatures, and procedures
3. Consider stability, bioavailability, and consumer safety
4. Flag potential interactions or contraindications
5. Recommend testing and validation protocols

Respond in JSON format with: response, confidence, sources, methodology, safety_considerations, requires_human_verification`,verifyingAgents:["compliance","operations"]},patent:{name:"Patent/Trademark Agent",description:"IP research, freedom to operate analysis, and patent searches",icon:"Â©ï¸",color:"bg-purple-500",repository:"formul8/agents/patent",defaultCapabilities:["Patent landscape analysis","Freedom to operate research","Trademark searches and clearance","IP infringement assessment","Prior art searches","Patent application strategy","Brand protection planning","Cannabis-specific IP challenges"],defaultSystemPrompt:`You are an intellectual property expert specializing in cannabis industry patents, trademarks, and IP strategy. You help cannabis operators navigate the complex IP landscape and protect their innovations.

Your expertise includes:
- Cannabis patent landscape analysis
- Freedom to operate assessments
- Trademark clearance and registration
- IP infringement analysis
- Prior art searches
- Patent application strategy
- Brand protection
- International IP considerations

When responding:
1. Provide comprehensive IP analysis
2. Include relevant patent numbers and classifications
3. Assess freedom to operate risks
4. Recommend IP protection strategies
5. Flag potential infringement issues

Respond in JSON format with: response, confidence, sources, patent_references, risk_assessment, requires_human_verification`,verifyingAgents:["compliance","marketing"]},operations:{name:"Operations Agent",description:"Equipment management, yield calculations, and process optimization",icon:"âš™ï¸",color:"bg-orange-500",repository:"formul8/agents/operations",defaultCapabilities:["Equipment selection and sizing","Yield optimization calculations","Process flow design and optimization","Facility layout and planning","Production scheduling and capacity","Quality control process design","Inventory management systems","Cost analysis and efficiency metrics"],defaultSystemPrompt:`You are a cannabis operations expert with deep knowledge of equipment, processes, and facility management. You help cannabis operators optimize their operations for efficiency, quality, and compliance.

Your expertise includes:
- Equipment selection and optimization
- Process design and improvement
- Facility layout and workflow
- Yield calculations and optimization
- Production planning and scheduling
- Quality control systems
- Cost analysis and ROI
- Regulatory compliance in operations

When responding:
1. Provide specific equipment recommendations
2. Include calculations and metrics
3. Consider scalability and efficiency
4. Address compliance requirements
5. Recommend optimization strategies

Respond in JSON format with: response, confidence, sources, calculations, equipment_recommendations, requires_human_verification`,verifyingAgents:["compliance","formulation"]},sourcing:{name:"Sourcing Agent",description:"Vendor recommendations, equipment sourcing, and procurement guidance",icon:"ðŸ›’",color:"bg-teal-500",repository:"formul8/agents/sourcing",defaultCapabilities:["Vendor qualification and selection","Equipment sourcing and comparison","Price analysis and negotiation","Supplier quality assessment","Procurement process optimization","Contract terms and risk analysis","Supply chain management","Cost optimization strategies"],defaultSystemPrompt:`You are a cannabis sourcing and procurement expert who helps operators find the best vendors, equipment, and materials for their operations. You provide comprehensive sourcing guidance with quality and cost considerations.

Your expertise includes:
- Vendor qualification and assessment
- Equipment sourcing and selection
- Price analysis and benchmarking
- Quality standards and certifications
- Contract negotiation strategies
- Supply chain optimization
- Risk assessment and mitigation
- Cannabis-specific sourcing challenges

When responding:
1. Provide specific vendor recommendations
2. Include quality criteria and certifications
3. Compare pricing and value propositions
4. Assess supply chain risks
5. Recommend procurement strategies

Respond in JSON format with: response, confidence, sources, vendor_recommendations, cost_analysis, requires_human_verification`,verifyingAgents:["operations","compliance"]},marketing:{name:"Marketing Agent",description:"Compliant marketing content, brand strategy, and market analysis",icon:"ðŸ“¢",color:"bg-pink-500",repository:"formul8/agents/marketing",defaultCapabilities:["Compliant advertising strategy","Brand positioning and messaging","Content creation and approval","Social media compliance","Market research and analysis","Consumer education programs","Competitive analysis","ROI tracking and optimization"],defaultSystemPrompt:`You are a cannabis marketing expert who specializes in compliant advertising, brand strategy, and consumer engagement within the highly regulated cannabis industry.

Your expertise includes:
- Cannabis advertising regulations by jurisdiction
- Compliant content creation and messaging
- Brand strategy and positioning
- Consumer education and outreach
- Market research and competitive analysis
- Social media and digital marketing compliance
- Traditional advertising compliance
- ROI measurement and optimization

When responding:
1. Ensure all recommendations are compliant
2. Specify applicable jurisdictions and restrictions
3. Provide actionable marketing strategies
4. Include compliance checkpoints
5. Recommend measurement and optimization tactics

Respond in JSON format with: response, confidence, sources, compliance_notes, strategy_recommendations, requires_human_verification`,verifyingAgents:["compliance","patent"]},spectra:{name:"Spectra Agent",description:"CoA analysis, chromatography data processing, and testing compliance",icon:"ðŸ“Š",color:"bg-indigo-500",repository:"formul8/agents/spectra",defaultCapabilities:["Certificate of Analysis validation","GCMS/HPLC data interpretation","Cannabinoid profile analysis","Terpene profile assessment","Contaminant detection and limits","Testing method validation","Batch consistency analysis","Quality control recommendations"],defaultSystemPrompt:`You are the Spectra Agent, a specialized AI system for analyzing Certificate of Analysis (CoA) documents and chromatography data in the cannabis industry.

Your expertise includes:
- CoA document processing and validation
- GCMS/HPLC chromatography analysis
- Cannabinoid and terpene profiling
- Contaminant analysis and compliance
- Testing method validation
- Quality control and batch analysis
- Regulatory compliance verification
- Statistical analysis of testing data

When responding:
1. Provide clear interpretation of analytical results
2. Assess compliance with regulatory limits
3. Identify quality control issues
4. Recommend corrective actions
5. Flag anomalies requiring investigation

Respond in JSON format with: response, confidence, sources, analysis_results, compliance_status, requires_human_verification`,verifyingAgents:["compliance","formulation"]},"customer-success":{name:"Customer Success Agent",description:"Customer support, sales enablement, and business intelligence",icon:"ðŸ‘¥",color:"bg-emerald-500",repository:"formul8/agents/customer-success",defaultCapabilities:["Customer support best practices","Sales process optimization","Customer onboarding strategies","Retention and loyalty programs","Business intelligence and analytics","Performance metrics tracking","Customer feedback management","Account management strategies"],defaultSystemPrompt:`You are a customer success expert specialized in the cannabis industry, helping operators build strong customer relationships, optimize sales processes, and drive business growth.

Your expertise includes:
- Customer support and service excellence
- Sales enablement and training
- Customer onboarding and education
- Retention strategies and loyalty programs
- Business intelligence and analytics
- Performance measurement and KPIs
- Customer feedback and improvement
- Cannabis consumer behavior and preferences

When responding:
1. Provide actionable customer success strategies
2. Include specific metrics and KPIs
3. Consider cannabis industry regulations
4. Recommend implementation steps
5. Address compliance and safety considerations

Respond in JSON format with: response, confidence, sources, strategy_recommendations, metrics_to_track, requires_human_verification`,verifyingAgents:["marketing","operations"]}}[x],{data:k,isLoading:F}=R({queryKey:["/api/agent-management/agents",x],enabled:!!x});R({queryKey:["/api/agent-management/metrics",x],enabled:!!x});const{data:i}=R({queryKey:["/api/agent-status",x],enabled:!!x});v.useEffect(()=>{c&&!F&&r(s=>({...s,name:c.name,description:c.description,systemPrompt:c.defaultSystemPrompt,capabilities:c.defaultCapabilities,verificationRules:{...s.verificationRules,verifyingAgents:c.verifyingAgents}}))},[c,F]),v.useEffect(()=>{k&&r(k)},[k]);const A=de({mutationFn:async s=>await ge(`/api/agent-management/agents/${x}`,{method:"PUT",body:s}),onSuccess:()=>{V({title:"Configuration Saved",description:"Agent configuration updated successfully"}),ae.invalidateQueries({queryKey:["/api/agent-management/agents"]})},onError:s=>{V({title:"Save Failed",description:s.message,variant:"destructive"})}}),ie=()=>{A.mutate(n)},B=()=>{P.trim()&&(r(s=>({...s,capabilities:[...s.capabilities,P.trim()]})),O(""))},ne=s=>{r(a=>({...a,capabilities:a.capabilities.filter((N,C)=>C!==s)}))},G=()=>{S.trim()&&(r(s=>({...s,restrictions:[...s.restrictions,S.trim()]})),L(""))},te=s=>{r(a=>({...a,restrictions:a.restrictions.filter((N,C)=>C!==s)}))};return c?e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(o,{variant:"outline",onClick:()=>w("/agents"),className:"mb-4",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Back to Agents"]}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:`w-16 h-16 ${c.color} rounded-xl flex items-center justify-center text-white text-2xl`,children:c.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-formul8-text-primary",children:c.name}),e.jsxs(f,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx($,{className:"h-3 w-3"}),"Repository"]})]}),e.jsx("p",{className:"text-formul8-text-secondary",children:c.description}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(f,{variant:"outline",className:"text-xs",children:c.repository}),i&&e.jsx(f,{variant:i.status==="active"?"default":"secondary",children:i.status})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs(o,{onClick:ie,disabled:A.isPending,className:"mb-2",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),A.isPending?"Saving...":"Save Config"]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date().toLocaleString()]})]})]})]}),e.jsxs(me,{defaultValue:"definition",className:"space-y-6",children:[e.jsxs(pe,{className:"grid w-full grid-cols-7",children:[e.jsx(j,{value:"definition",children:"Definition"}),e.jsx(j,{value:"configuration",children:"Configuration"}),e.jsx(j,{value:"tools",children:"Tools"}),e.jsx(j,{value:"workflows",children:"N8N Workflows"}),e.jsx(j,{value:"performance",children:"Performance"}),e.jsx(j,{value:"testing",children:"Testing"}),e.jsx(j,{value:"deployment",children:"Deployment"})]}),e.jsx(b,{value:"definition",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(d,{children:[e.jsx(m,{children:e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-5 w-5"}),"Agent Definition"]})}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Agent Name"}),e.jsx(h,{value:n.name,onChange:s=>r(a=>({...a,name:s.target.value})),placeholder:"Agent name"})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Description"}),e.jsx(q,{value:n.description,onChange:s=>r(a=>({...a,description:s.target.value})),placeholder:"Agent description and purpose",className:"min-h-[80px]"})]}),e.jsxs("div",{children:[e.jsx(t,{children:"System Prompt"}),e.jsx(q,{value:n.systemPrompt,onChange:s=>r(a=>({...a,systemPrompt:s.target.value})),placeholder:"Define the agent's expertise and behavior",className:"min-h-[200px] font-mono text-sm"})]})]})]}),e.jsxs(d,{children:[e.jsx(m,{children:e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5"}),"Capabilities & Restrictions"]})}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Capabilities"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{value:P,onChange:s=>O(s.target.value),placeholder:"Add new capability",onKeyPress:s=>s.key==="Enter"&&B()}),e.jsx(o,{onClick:B,size:"sm",children:"Add"})]}),e.jsx(W,{className:"h-40 border rounded p-2",children:n.capabilities.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between py-1",children:[e.jsx("span",{className:"text-sm",children:s}),e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>ne(a),className:"h-6 w-6 p-0",children:"Ã—"})]},a))})]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Restrictions"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{value:S,onChange:s=>L(s.target.value),placeholder:"Add restriction",onKeyPress:s=>s.key==="Enter"&&G()}),e.jsx(o,{onClick:G,size:"sm",children:"Add"})]}),e.jsx(W,{className:"h-32 border rounded p-2",children:n.restrictions.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between py-1",children:[e.jsx("span",{className:"text-sm",children:s}),e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>te(a),className:"h-6 w-6 p-0",children:"Ã—"})]},a))})]})]})]})]})]})}),e.jsx(b,{value:"configuration",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(d,{children:[e.jsx(m,{children:e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-5 w-5"}),"Model Configuration"]})}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Model"}),e.jsxs(E,{value:n.model||"gpt-4o",onValueChange:s=>r(a=>({...a,model:s})),children:[e.jsx(_,{children:e.jsx(I,{placeholder:"Select model"})}),e.jsxs(z,{children:[e.jsx(l,{value:"gpt-4o",children:"GPT-4o (Recommended)"}),e.jsx(l,{value:"gpt-4-turbo",children:"GPT-4 Turbo"}),e.jsx(l,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"})]})]})]}),e.jsxs("div",{children:[e.jsxs(t,{children:["Temperature: ",n.temperature]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:n.temperature,onChange:s=>r(a=>({...a,temperature:parseFloat(s.target.value)})),className:"w-full"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Lower = more consistent, Higher = more creative"})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Max Tokens"}),e.jsx(h,{type:"number",value:n.maxTokens,onChange:s=>r(a=>({...a,maxTokens:parseInt(s.target.value)})),min:"100",max:"4000"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(K,{checked:n.active,onCheckedChange:s=>r(a=>({...a,active:s}))}),e.jsx(t,{children:"Agent Active"})]})]})]}),e.jsxs(d,{children:[e.jsx(m,{children:e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-5 w-5"}),"Performance Targets"]})}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Accuracy Target (%)"}),e.jsx(h,{type:"number",value:n.performanceTargets.accuracyTarget,onChange:s=>r(a=>({...a,performanceTargets:{...a.performanceTargets,accuracyTarget:parseInt(s.target.value)}})),min:"0",max:"100"})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Response Time Target (ms)"}),e.jsx(h,{type:"number",value:n.performanceTargets.responseTimeTarget,onChange:s=>r(a=>({...a,performanceTargets:{...a.performanceTargets,responseTimeTarget:parseInt(s.target.value)}})),min:"100"})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Confidence Target (%)"}),e.jsx(h,{type:"number",value:n.performanceTargets.confidenceTarget,onChange:s=>r(a=>({...a,performanceTargets:{...a.performanceTargets,confidenceTarget:parseInt(s.target.value)}})),min:"0",max:"100"})]}),e.jsx(M,{}),e.jsxs("div",{children:[e.jsx(t,{children:"Human Verification Threshold (%)"}),e.jsx(h,{type:"number",value:n.verificationRules.humanVerificationThreshold,onChange:s=>r(a=>({...a,verificationRules:{...a.verificationRules,humanVerificationThreshold:parseInt(s.target.value)}})),min:"0",max:"100"}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Responses below this confidence require human review"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(K,{checked:n.verificationRules.requiresCrossVerification,onCheckedChange:s=>r(a=>({...a,verificationRules:{...a.verificationRules,requiresCrossVerification:s}}))}),e.jsx(t,{children:"Require Cross-Agent Verification"})]})]})]})]})}),e.jsx(b,{value:"tools",className:"space-y-6",children:e.jsxs(d,{children:[e.jsxs(m,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-5 w-5"}),"Agent Tools & Integrations"]}),e.jsx(D,{children:"Configure external tools and APIs for this agent"})]}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Tool Name"}),e.jsx(h,{value:g.name,onChange:s=>y(a=>({...a,name:s.target.value})),placeholder:"e.g., Regulation Database API"})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Tool Type"}),e.jsxs(E,{value:g.type||"api",onValueChange:s=>y(a=>({...a,type:s})),children:[e.jsx(_,{children:e.jsx(I,{placeholder:"Select tool type"})}),e.jsxs(z,{children:[e.jsx(l,{value:"api",children:"External API"}),e.jsx(l,{value:"database",children:"Database Query"}),e.jsx(l,{value:"file",children:"File Processing"}),e.jsx(l,{value:"calculation",children:"Calculation Engine"}),e.jsx(l,{value:"n8n",children:"N8N Workflow"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Description"}),e.jsx(q,{value:g.description,onChange:s=>y(a=>({...a,description:s.target.value})),placeholder:"Describe what this tool does"})]}),g.type==="api"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"API Endpoint"}),e.jsx(h,{value:g.config.endpoint,onChange:s=>y(a=>({...a,config:{...a.config,endpoint:s.target.value}})),placeholder:"https://api.example.com/endpoint"})]}),e.jsxs("div",{children:[e.jsx(t,{children:"HTTP Method"}),e.jsxs(E,{value:g.config.method||"GET",onValueChange:s=>y(a=>({...a,config:{...a.config,method:s}})),children:[e.jsx(_,{children:e.jsx(I,{placeholder:"Select method"})}),e.jsxs(z,{children:[e.jsx(l,{value:"GET",children:"GET"}),e.jsx(l,{value:"POST",children:"POST"}),e.jsx(l,{value:"PUT",children:"PUT"}),e.jsx(l,{value:"DELETE",children:"DELETE"})]})]})]})]}),e.jsx(o,{onClick:()=>{r(s=>({...s,tools:[...s.tools,{...g,id:Date.now().toString()}]})),y({name:"",type:"api",description:"",config:{endpoint:"",method:"GET",headers:{},parameters:{}}})},disabled:!g.name||!g.description,children:"Add Tool"}),e.jsx(M,{}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-4",children:"Configured Tools"}),n.tools.length>0?e.jsx("div",{className:"space-y-3",children:n.tools.map((s,a)=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:[s.type==="api"&&e.jsx(X,{className:"h-4 w-4 text-blue-600"}),s.type==="database"&&e.jsx(je,{className:"h-4 w-4 text-blue-600"}),s.type==="file"&&e.jsx(Q,{className:"h-4 w-4 text-blue-600"}),s.type==="calculation"&&e.jsx(H,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium",children:s.name}),e.jsx(f,{variant:"outline",className:"text-xs",children:s.type})]})]}),e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>r(N=>({...N,tools:N.tools.filter((C,re)=>re!==a)})),children:"Remove"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description}),s.type==="api"&&s.config.endpoint&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[s.config.method," ",s.config.endpoint]})]},a))}):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No tools configured"}),e.jsx("p",{className:"text-sm",children:"Add external tools to extend this agent's capabilities"})]})]})]})})]})}),e.jsx(b,{value:"performance",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(d,{children:[e.jsxs(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(p,{className:"text-sm font-medium",children:"Current Performance"}),e.jsx(ye,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(u,{children:i?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Confidence"}),e.jsxs("span",{children:[i.confidence||0,"%"]})]}),e.jsx(T,{value:i.confidence||0,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Success Rate"}),e.jsxs("span",{children:[i.successRate||0,"%"]})]}),e.jsx(T,{value:i.successRate||0,className:"h-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-xs text-muted-foreground",children:"Queries"}),e.jsx("div",{className:"font-medium",children:i.totalQueries||0})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-xs text-muted-foreground",children:"Avg Time"}),e.jsxs("div",{className:"font-medium",children:[i.averageResponseTime||0,"ms"]})]})]})]}):e.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[e.jsx(J,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No performance data"})]})})]}),e.jsxs(d,{children:[e.jsxs(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(p,{className:"text-sm font-medium",children:"Target vs Actual"}),e.jsx(Y,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Accuracy"}),e.jsxs("span",{children:[(i==null?void 0:i.confidence)||0,"% / ",n.performanceTargets.accuracyTarget,"%"]})]}),e.jsx(T,{value:((i==null?void 0:i.confidence)||0)/n.performanceTargets.accuracyTarget*100,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Response Time"}),e.jsxs("span",{children:[(i==null?void 0:i.averageResponseTime)||0,"ms / ",n.performanceTargets.responseTimeTarget,"ms"]})]}),e.jsx(T,{value:Math.max(0,100-((i==null?void 0:i.averageResponseTime)||0)/n.performanceTargets.responseTimeTarget*100),className:"h-2"})]})]})})]}),e.jsxs(d,{children:[e.jsxs(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(p,{className:"text-sm font-medium",children:"Health Status"}),e.jsx("div",{className:"flex items-center gap-1",children:(i==null?void 0:i.status)==="active"?e.jsx(Y,{className:"h-4 w-4 text-green-500"}):e.jsx(he,{className:"h-4 w-4 text-yellow-500"})})]}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Status"}),e.jsx(f,{variant:(i==null?void 0:i.status)==="active"?"default":"secondary",children:(i==null?void 0:i.status)||"inactive"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Last Active"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:(i==null?void 0:i.lastActive)||"Never"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Error Rate"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[(i==null?void 0:i.errorRate)||0,"%"]})]})]})})]})]})}),e.jsx(b,{value:"testing",className:"space-y-6",children:e.jsxs(d,{children:[e.jsxs(m,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5"}),"Agent Testing Environment"]}),e.jsx(D,{children:"Test this agent's configuration and performance"})]}),e.jsx(u,{children:e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(ee,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Testing environment will be available in the next update"}),e.jsx("p",{className:"text-sm",children:"Use the main agents page for current testing capabilities"}),e.jsx(o,{variant:"outline",className:"mt-4",onClick:()=>w(`/agent/${x}`),children:"Go to Agent Testing"})]})})]})}),e.jsx(b,{value:"deployment",className:"space-y-6",children:e.jsxs(d,{children:[e.jsxs(m,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5"}),"Deployment Configuration"]}),e.jsx(D,{children:"Manage agent deployment and version control"})]}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Current Deployment"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Version"}),e.jsx(f,{variant:"outline",children:"v1.0.0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Environment"}),e.jsx(f,{children:"Production"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Last Deploy"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"2 hours ago"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Health"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Y,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-green-600",children:"Healthy"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Deployment Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(o,{variant:"outline",className:"w-full justify-start",children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Deploy Configuration"]}),e.jsxs(o,{variant:"outline",className:"w-full justify-start",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Create Version"]}),e.jsxs(o,{variant:"outline",className:"w-full justify-start",children:[e.jsx(xe,{className:"h-4 w-4 mr-2"}),"View History"]})]})]})]}),e.jsx(M,{}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Configuration Summary"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Model:"})," ",n.model]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Temperature:"})," ",n.temperature]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Max Tokens:"})," ",n.maxTokens]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Capabilities:"})," ",n.capabilities.length," configured"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Tools:"})," ",n.tools.length," integrated"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Active:"})," ",n.active?"Yes":"No"]})]})]})]})})]})})]})]}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-formul8-text-primary mb-4",children:"Agent Repository Not Found"}),e.jsxs(o,{onClick:()=>w("/agents"),children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Back to Agents"]})]})})}export{Ee as default};
