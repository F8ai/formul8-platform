import{a4 as C,u as J,t as V,r as l,m as z,v as h,j as e,B as r,S as $,T as H,i as U,k as p,cl as D,l as x,C as g,a as f,b as j,c as v,d as N,I as b,ag as _,f as X,cf as Y,X as E,J as w}from"./index-CDF1r-gK.js";import{S as d}from"./switch-BAJYWrd6.js";import{P as Z}from"./dashboard-BQMlkxDq.js";import"./PageLayout-Cq6bovZP.js";import"./FormulaChatInterface-BP7qI_LK.js";import"./throttle-Bdt7xJtI.js";import"./users-C5p7ZLl8.js";import"./shopping-cart-BXOOVp_u.js";import"./trending-up-nueEWtNi.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=C("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=C("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=C("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),T=[{type:"agent-status",name:"Agent Status",description:"Real-time status of all AI agents",defaultSize:{w:4,h:3},category:"agents"},{type:"recent-activity",name:"Recent Activity",description:"Latest user interactions and queries",defaultSize:{w:6,h:4},category:"activity"},{type:"compliance-summary",name:"Compliance Summary",description:"Cannabis regulatory compliance overview",defaultSize:{w:4,h:3},category:"compliance"},{type:"formulation-queue",name:"Formulation Queue",description:"Active product formulations and progress",defaultSize:{w:6,h:4},category:"formulation"},{type:"cost-tracker",name:"Cost Tracker",description:"API usage and operational costs",defaultSize:{w:4,h:3},category:"analytics"},{type:"chat-quick-access",name:"Chat Quick Access",description:"Quick access to agent conversations",defaultSize:{w:3,h:4},category:"chat"},{type:"metrics-overview",name:"Metrics Overview",description:"Key performance indicators and analytics",defaultSize:{w:8,h:4},category:"analytics"},{type:"calendar",name:"Calendar",description:"Upcoming deadlines and compliance dates",defaultSize:{w:4,h:4},category:"planning"},{type:"notifications",name:"Notifications",description:"System alerts and important updates",defaultSize:{w:3,h:3},category:"system"}],q=[{id:"agents",name:"AI Agents",color:"bg-blue-500"},{id:"activity",name:"Activity",color:"bg-green-500"},{id:"compliance",name:"Compliance",color:"bg-yellow-500"},{id:"formulation",name:"Formulation",color:"bg-purple-500"},{id:"analytics",name:"Analytics",color:"bg-red-500"},{id:"chat",name:"Chat",color:"bg-teal-500"},{id:"planning",name:"Planning",color:"bg-orange-500"},{id:"system",name:"System",color:"bg-gray-500"}];function ye({userId:t}){const{toast:i}=J(),o=V(),[c,P]=l.useState(!1),[te,M]=l.useState(""),[m,k]=l.useState(""),[n,S]=l.useState("all"),{data:u=[],isLoading:F}=z({queryKey:["/api/dashboard/layouts",t],enabled:!!t}),{data:O=[],isLoading:W}=z({queryKey:["/api/dashboard/preferences",t],enabled:!!t}),A=h({mutationFn:a=>w("/api/dashboard/layouts",{method:"POST",body:JSON.stringify(a)}),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/dashboard/layouts"]}),i({title:"Layout created successfully"}),k("")},onError:()=>{i({title:"Failed to create layout",variant:"destructive"})}}),Q=h({mutationFn:({id:a,updates:s})=>w(`/api/dashboard/layouts/${a}`,{method:"PATCH",body:JSON.stringify(s)}),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/dashboard/layouts"]}),i({title:"Layout updated successfully"})},onError:()=>{i({title:"Failed to update layout",variant:"destructive"})}}),I=h({mutationFn:({widgetType:a,enabled:s})=>w("/api/dashboard/preferences",{method:"POST",body:JSON.stringify({userId:t,widgetType:a,preferences:{},isEnabled:s})}),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/dashboard/preferences"]}),i({title:"Widget preferences updated"})},onError:()=>{i({title:"Failed to update preferences",variant:"destructive"})}}),R=()=>{const a=[{id:"agent-status-1",type:"agent-status",position:{x:0,y:0,w:4,h:3},title:"AI Agent Status"},{id:"recent-activity-1",type:"recent-activity",position:{x:4,y:0,w:8,h:4},title:"Recent Activity"},{id:"compliance-summary-1",type:"compliance-summary",position:{x:0,y:3,w:4,h:3},title:"Compliance Overview"},{id:"chat-quick-access-1",type:"chat-quick-access",position:{x:8,y:4,w:4,h:4},title:"Quick Chat Access"}];A.mutate({userId:t,layoutName:m||"My Custom Layout",widgets:a,gridConfig:{cols:12,rows:20,margin:[10,10],compactType:"vertical",preventCollision:!1},isDefault:u.length===0})},G=n==="all"?T:T.filter(a=>a.category===n),K=a=>O.find(s=>s.widgetType===a);return F||W?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 bg-formul8-primary rounded-full animate-pulse mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Loading customization options..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Dashboard Customization"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Personalize your Formul8 dashboard experience"})]}),e.jsxs(r,{onClick:()=>P(!c),variant:c?"destructive":"default",className:"flex items-center gap-2",children:[c?e.jsx(ee,{className:"w-4 h-4"}):e.jsx($,{className:"w-4 h-4"}),c?"Exit Customization":"Customize Dashboard"]})]}),e.jsxs(H,{defaultValue:"layouts",className:"w-full",children:[e.jsxs(U,{className:"grid w-full grid-cols-3",children:[e.jsxs(p,{value:"layouts",className:"flex items-center gap-2",children:[e.jsx(Z,{className:"w-4 h-4"}),"Layouts"]}),e.jsxs(p,{value:"widgets",className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-4 h-4"}),"Widgets"]}),e.jsxs(p,{value:"appearance",className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4"}),"Appearance"]})]}),e.jsx(x,{value:"layouts",className:"space-y-4",children:e.jsxs(g,{children:[e.jsxs(f,{children:[e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-5 h-5"}),"Dashboard Layouts"]}),e.jsx(v,{children:"Create and manage different dashboard configurations for various workflows"})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{placeholder:"Layout name (e.g., 'Daily Operations', 'Compliance Focus')",value:m,onChange:a=>k(a.target.value),className:"flex-1"}),e.jsxs(r,{onClick:R,disabled:A.isPending||!m.trim(),className:"flex items-center gap-2",children:[e.jsx(_,{className:"w-4 h-4"}),"Create Layout"]})]}),e.jsxs("div",{className:"grid gap-3",children:[u.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-medium",children:a.layoutName}),a.isDefault&&e.jsx(X,{variant:"default",children:"Default"})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[a.widgets.length," widgets â€¢ Updated ",new Date(a.updatedAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{variant:"outline",size:"sm",onClick:()=>M(a.id),children:e.jsx(Y,{className:"w-4 h-4"})}),e.jsx(r,{variant:"outline",size:"sm",onClick:()=>Q.mutate({id:a.id,updates:{isDefault:!a.isDefault}}),children:a.isDefault?"Remove Default":"Set Default"})]})]},a.id)),u.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(D,{className:"w-12 h-12 mx-auto mb-4 opacity-20"}),e.jsx("p",{children:"No custom layouts yet. Create your first layout to get started!"})]})]})]})]})}),e.jsx(x,{value:"widgets",className:"space-y-4",children:e.jsxs(g,{children:[e.jsxs(f,{children:[e.jsx(j,{children:"Available Widgets"}),e.jsx(v,{children:"Enable or disable widgets for your dashboard. Disabled widgets won't appear in any layout."})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(r,{variant:n==="all"?"default":"outline",size:"sm",onClick:()=>S("all"),children:"All Categories"}),q.map(a=>e.jsxs(r,{variant:n===a.id?"default":"outline",size:"sm",onClick:()=>S(a.id),className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${a.color}`}),a.name]},a.id))]}),e.jsx("div",{className:"grid gap-3",children:G.map(a=>{var L;const s=K(a.type),B=(s==null?void 0:s.isEnabled)??!0;return e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${((L=q.find(y=>y.id===a.category))==null?void 0:L.color)||"bg-gray-400"}`}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:a.name}),e.jsx("p",{className:"text-sm text-gray-500",children:a.description})]})]})}),e.jsx(d,{checked:B,onCheckedChange:y=>I.mutate({widgetType:a.type,enabled:y})})]},a.type)})})]})]})}),e.jsx(x,{value:"appearance",className:"space-y-4",children:e.jsxs(g,{children:[e.jsxs(f,{children:[e.jsx(j,{children:"Dashboard Appearance"}),e.jsx(v,{children:"Customize the visual appearance and grid settings for your dashboard"})]}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Grid Configuration"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"grid-cols",children:"Grid Columns"}),e.jsx(b,{id:"grid-cols",type:"number",min:"6",max:"24",defaultValue:"12",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"grid-margin",children:"Widget Spacing"}),e.jsx(b,{id:"grid-margin",type:"number",min:"0",max:"20",defaultValue:"10",className:"mt-1"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Compact Mode"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Automatically arrange widgets to minimize empty space"})]}),e.jsx(d,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Widget Animations"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Enable smooth transitions when rearranging widgets"})]}),e.jsx(d,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Auto-save Layout"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Automatically save changes as you customize"})]}),e.jsx(d,{defaultChecked:!0})]})]})]})})]})]})}export{ye as default};
