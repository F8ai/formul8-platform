import{a4 as _,r as S,t as ee,u as se,v as C,m as ae,j as e,C as i,d as r,a3 as k,T as te,i as ie,k as o,l as u,a as j,b as p,o as re,c as g,D as z,B as T,af as y,f as n,E as ce,I as H,Q as le,P as ne,a8 as de,J as N}from"./index-CDF1r-gK.js";import{S as P}from"./separator-CYAIRvWi.js";import{A as me,a as xe}from"./alert-BR09JMnk.js";import{U as he}from"./users-C5p7ZLl8.js";import{T as K}from"./trending-up-nueEWtNi.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=_("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);function ye(){var F,Q,V,G,M,O,B,U,q,I;const[v,L]=S.useState(""),[b,E]=S.useState(""),[f,D]=S.useState(""),[w,A]=S.useState("");ee();const{toast:x}=se(),c=C({mutationFn:async s=>await N("/api/science/research","POST",{question:s}),onSuccess:()=>{x({title:"Research Complete",description:"Scientific analysis has been completed successfully."}),L("")},onError:s=>{x({title:"Research Failed",description:"Failed to complete scientific analysis. Please try again.",variant:"destructive"})}}),d=C({mutationFn:async s=>await N("/api/science/literature-search","POST",{searchTerms:s,filters:{}}),onSuccess:()=>{x({title:"Search Complete",description:"Literature search completed successfully."}),E("")}}),t=C({mutationFn:async s=>await N("/api/science/validate-claim","POST",{claim:s}),onSuccess:()=>{x({title:"Validation Complete",description:"Scientific claim has been validated."}),D("")}}),l=C({mutationFn:async s=>await N("/api/science/summary","POST",{topic:s,studyTypes:[],dateRange:{}}),onSuccess:()=>{x({title:"Summary Generated",description:"Research summary has been generated successfully."}),A("")}}),{data:h}=ae({queryKey:["/api/science/trends"],queryFn:()=>N("/api/science/trends")}),$=s=>{s.preventDefault(),v.trim()&&c.mutate(v.trim())},X=s=>{if(s.preventDefault(),b.trim()){const a=b.split(",").map(m=>m.trim()).filter(m=>m);d.mutate(a)}},Y=s=>{s.preventDefault(),f.trim()&&t.mutate(f.trim())},Z=s=>{s.preventDefault(),w.trim()&&l.mutate(w.trim())},R=s=>{switch(s){case"high":return"bg-green-100 text-green-800 border-green-200";case"moderate":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white dark:from-gray-900 dark:to-gray-800",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"ðŸ§¬ Science Agent"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:"Evidence-based research analysis powered by PubMed and scientific literature databases"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(i,{children:e.jsxs(r,{className:"flex items-center p-6",children:[e.jsx(k,{className:"h-8 w-8 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"2,450+"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Research Papers"})]})]})}),e.jsx(i,{children:e.jsxs(r,{className:"flex items-center p-6",children:[e.jsx(W,{className:"h-8 w-8 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"98%"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Accuracy Rate"})]})]})}),e.jsx(i,{children:e.jsxs(r,{className:"flex items-center p-6",children:[e.jsx(he,{className:"h-8 w-8 text-purple-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"450+"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Citations Analyzed"})]})]})}),e.jsx(i,{children:e.jsxs(r,{className:"flex items-center p-6",children:[e.jsx(K,{className:"h-8 w-8 text-indigo-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"92%"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Confidence Score"})]})]})})]}),e.jsxs(te,{defaultValue:"research",className:"space-y-6",children:[e.jsxs(ie,{className:"grid w-full grid-cols-5",children:[e.jsx(o,{value:"research",children:"Research Query"}),e.jsx(o,{value:"literature",children:"Literature Search"}),e.jsx(o,{value:"validate",children:"Claim Validation"}),e.jsx(o,{value:"summary",children:"Research Summary"}),e.jsx(o,{value:"trends",children:"Research Trends"})]}),e.jsx(u,{value:"research",className:"space-y-6",children:e.jsxs(i,{children:[e.jsxs(j,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(re,{className:"h-5 w-5"}),"Scientific Research Query"]}),e.jsx(g,{children:"Ask any cannabis/hemp research question and get evidence-based analysis"})]}),e.jsxs(r,{children:[e.jsxs("form",{onSubmit:$,className:"space-y-4",children:[e.jsx(z,{placeholder:"e.g., What does research show about CBD's effectiveness for anxiety disorders?",value:v,onChange:s=>L(s.target.value),className:"min-h-[100px]"}),e.jsxs(T,{type:"submit",disabled:c.isPending||!v.trim(),className:"w-full",children:[c.isPending&&e.jsx(y,{className:"h-4 w-4 mr-2 animate-spin"}),"Analyze Research"]})]}),c.data&&e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(n,{className:R(c.data.evidenceLevel),children:[(F=c.data.evidenceLevel)==null?void 0:F.toUpperCase()," Evidence"]}),e.jsxs(n,{variant:"outline",children:[c.data.response.confidence,"% Confidence"]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Research Analysis:"}),e.jsx("div",{className:"whitespace-pre-wrap text-sm",children:c.data.response.response})]}),((Q=c.data.response.sources)==null?void 0:Q.length)>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Sources:"}),e.jsx("ul",{className:"space-y-1",children:c.data.response.sources.map((s,a)=>e.jsxs("li",{className:"text-sm text-blue-600 hover:text-blue-800 cursor-pointer flex items-center gap-1",children:[e.jsx(ce,{className:"h-3 w-3"}),s]},a))})]})]})]})]})}),e.jsx(u,{value:"literature",className:"space-y-6",children:e.jsxs(i,{children:[e.jsxs(j,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),"PubMed Literature Search"]}),e.jsx(g,{children:"Search scientific literature using specific terms and keywords"})]}),e.jsxs(r,{children:[e.jsxs("form",{onSubmit:X,className:"space-y-4",children:[e.jsx(H,{placeholder:"Enter search terms separated by commas (e.g., CBD, anxiety, clinical trial)",value:b,onChange:s=>E(s.target.value)}),e.jsxs(T,{type:"submit",disabled:d.isPending||!b.trim(),className:"w-full",children:[d.isPending&&e.jsx(y,{className:"h-4 w-4 mr-2 animate-spin"}),"Search Literature"]})]}),d.data&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold",children:"Search Results"}),e.jsxs(n,{variant:"outline",children:[d.data.totalResults," articles found"]})]}),e.jsx(le,{className:"h-[400px] w-full border rounded-lg p-4",children:e.jsx("div",{className:"space-y-4",children:(V=d.data.results)==null?void 0:V.map((s,a)=>{var m,J;return e.jsxs("div",{className:"border-b pb-4 last:border-b-0",children:[e.jsx("h5",{className:"font-medium text-blue-600 hover:text-blue-800 cursor-pointer",children:s.title}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[(m=s.authors)==null?void 0:m.join(", ")," â€¢ ",s.journal," â€¢ ",s.publishDate]}),e.jsxs("p",{className:"text-sm mt-2 text-gray-700 dark:text-gray-300",children:[(J=s.abstract)==null?void 0:J.substring(0,200),"..."]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs(n,{variant:"secondary",className:"text-xs",children:["PMID: ",s.pmid]}),s.citationCount&&e.jsxs(n,{variant:"outline",className:"text-xs",children:[s.citationCount," citations"]})]})]},a)})})})]})]})]})}),e.jsx(u,{value:"validate",className:"space-y-6",children:e.jsxs(i,{children:[e.jsxs(j,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-5 w-5"}),"Scientific Claim Validation"]}),e.jsx(g,{children:"Validate scientific claims against peer-reviewed research"})]}),e.jsxs(r,{children:[e.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[e.jsx(z,{placeholder:"Enter a scientific claim to validate (e.g., 'CBD reduces anxiety in clinical trials')",value:f,onChange:s=>D(s.target.value),className:"min-h-[80px]"}),e.jsxs(T,{type:"submit",disabled:t.isPending||!f.trim(),className:"w-full",children:[t.isPending&&e.jsx(y,{className:"h-4 w-4 mr-2 animate-spin"}),"Validate Claim"]})]}),t.data&&e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(n,{className:R(t.data.evidenceLevel),children:[(G=t.data.evidenceLevel)==null?void 0:G.toUpperCase()," Evidence"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm",children:"Consensus:"}),e.jsx(ne,{value:t.data.consensusLevel,className:"w-20"}),e.jsxs("span",{className:"text-sm",children:[t.data.consensusLevel,"%"]})]})]}),e.jsx(me,{children:e.jsxs(xe,{children:[e.jsx("strong",{children:"Validation Summary:"})," Found ",t.data.supportingStudies," supporting studies",t.data.contradictingStudies>0&&` and ${t.data.contradictingStudies} contradicting studies`,"."]})}),((M=t.data.recommendations)==null?void 0:M.length)>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Recommendations:"}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:t.data.recommendations.map((s,a)=>e.jsx("li",{className:"text-sm",children:s},a))})]})]})]})]})}),e.jsx(u,{value:"summary",className:"space-y-6",children:e.jsxs(i,{children:[e.jsxs(j,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),"Research Summary Generator"]}),e.jsx(g,{children:"Generate comprehensive summaries of research on specific topics"})]}),e.jsxs(r,{children:[e.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[e.jsx(H,{placeholder:"Enter research topic (e.g., 'THC for chronic pain management')",value:w,onChange:s=>A(s.target.value)}),e.jsxs(T,{type:"submit",disabled:l.isPending||!w.trim(),className:"w-full",children:[l.isPending&&e.jsx(y,{className:"h-4 w-4 mr-2 animate-spin"}),"Generate Summary"]})]}),l.data&&e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(i,{children:e.jsxs(r,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l.data.summary.totalStudies}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Studies"})]})}),e.jsx(i,{children:e.jsxs(r,{className:"p-4",children:[e.jsx(n,{className:R(l.data.summary.evidenceQuality),children:(O=l.data.summary.evidenceQuality)==null?void 0:O.toUpperCase()}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Evidence Quality"})]})}),e.jsx(i,{children:e.jsxs(r,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:Object.values(l.data.summary.studyDistribution||{}).reduce((s,a)=>s+a,0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Study Types"})]})})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Key Findings:"}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:(B=l.data.summary.keyFindings)==null?void 0:B.map((s,a)=>e.jsx("li",{className:"text-sm",children:s},a))})]}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Clinical Relevance:"}),e.jsx("p",{className:"text-sm",children:l.data.summary.clinicalRelevance})]})]})]})]})}),e.jsx(u,{value:"trends",className:"space-y-6",children:e.jsxs(i,{children:[e.jsxs(j,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(K,{className:"h-5 w-5"}),"Cannabis Research Trends"]}),e.jsx(g,{children:"Explore emerging trends and patterns in cannabis research"})]}),e.jsx(r,{children:h?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Emerging Research Topics"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(U=h.trends.emergingTopics)==null?void 0:U.map((s,a)=>e.jsx(n,{variant:"outline",children:s},a))})]}),e.jsx(P,{}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Publication Growth"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(h.trends.publicationGrowth||{}).map(([s,a])=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a}),e.jsx("div",{className:"text-sm text-gray-600",children:s})]},s))})]}),e.jsx(P,{}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Top Research Journals"}),e.jsx("ul",{className:"space-y-2",children:(q=h.trends.topJournals)==null?void 0:q.map((s,a)=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:s})]},a))})]}),e.jsx(P,{}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Research Gaps & Opportunities"}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:(I=h.trends.researchGaps)==null?void 0:I.map((s,a)=>e.jsx("li",{className:"text-sm text-orange-600",children:s},a))})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(y,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading research trends..."})]})})]})})]})]})})}export{ye as default};
