import{cv as y}from"./index-B8YngC3q.js";import{i as b}from"./value-DBNvDwBg.js";import{i as A}from"./init-Dmth1JHB.js";import{e as M,f as R,a as q,b as F}from"./defaultLocale-C4B-KCzX.js";function g(n,r){return n==null||r==null?NaN:n<r?-1:n>r?1:n>=r?0:NaN}function S(n,r){return n==null||r==null?NaN:r<n?-1:r>n?1:r>=n?0:NaN}function w(n){let r,i,t;n.length!==2?(r=g,i=(u,o)=>g(n(u),o),t=(u,o)=>n(u)-o):(r=n===g||n===S?n:j,i=n,t=n);function f(u,o,e=0,h=u.length){if(e<h){if(r(o,o)!==0)return h;do{const c=e+h>>>1;i(u[c],o)<0?e=c+1:h=c}while(e<h)}return e}function l(u,o,e=0,h=u.length){if(e<h){if(r(o,o)!==0)return h;do{const c=e+h>>>1;i(u[c],o)<=0?e=c+1:h=c}while(e<h)}return e}function a(u,o,e=0,h=u.length){const c=f(u,o,e,h-1);return c>e&&t(u[c-1],o)>-t(u[c],o)?c-1:c}return{left:f,center:a,right:l}}function j(){return 0}function z(n){return n===null?NaN:+n}function*tn(n,r){for(let i of n)i!=null&&(i=+i)>=i&&(yield i)}const I=w(g),P=I.right;w(z).center;const $=Math.sqrt(50),x=Math.sqrt(10),B=Math.sqrt(2);function v(n,r,i){const t=(r-n)/Math.max(0,i),f=Math.floor(Math.log10(t)),l=t/Math.pow(10,f),a=l>=$?10:l>=x?5:l>=B?2:1;let u,o,e;return f<0?(e=Math.pow(10,-f)/a,u=Math.round(n*e),o=Math.round(r*e),u/e<n&&++u,o/e>r&&--o,e=-e):(e=Math.pow(10,f)*a,u=Math.round(n/e),o=Math.round(r/e),u*e<n&&++u,o*e>r&&--o),o<u&&.5<=i&&i<2?v(n,r,i*2):[u,o,e]}function C(n,r,i){if(r=+r,n=+n,i=+i,!(i>0))return[];if(n===r)return[n];const t=r<n,[f,l,a]=t?v(r,n,i):v(n,r,i);if(!(l>=f))return[];const u=l-f+1,o=new Array(u);if(t)if(a<0)for(let e=0;e<u;++e)o[e]=(l-e)/-a;else for(let e=0;e<u;++e)o[e]=(l-e)*a;else if(a<0)for(let e=0;e<u;++e)o[e]=(f+e)/-a;else for(let e=0;e<u;++e)o[e]=(f+e)*a;return o}function d(n,r,i){return r=+r,n=+n,i=+i,v(n,r,i)[2]}function D(n,r,i){r=+r,n=+n,i=+i;const t=r<n,f=t?d(r,n,i):d(n,r,i);return(t?-1:1)*(f<0?1/-f:f)}function E(n,r){return n=+n,r=+r,function(i){return Math.round(n*(1-i)+r*i)}}function G(n){return Math.max(0,-M(Math.abs(n)))}function H(n,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(M(r)/3)))*3-M(Math.abs(n)))}function J(n,r){return n=Math.abs(n),r=Math.abs(r)-n,Math.max(0,M(r)-M(n))+1}function K(n){return function(){return n}}function L(n){return+n}var N=[0,1];function m(n){return n}function p(n,r){return(r-=n=+n)?function(i){return(i-n)/r}:K(isNaN(r)?NaN:.5)}function O(n,r){var i;return n>r&&(i=n,n=r,r=i),function(t){return Math.max(n,Math.min(r,t))}}function Q(n,r,i){var t=n[0],f=n[1],l=r[0],a=r[1];return f<t?(t=p(f,t),l=i(a,l)):(t=p(t,f),l=i(l,a)),function(u){return l(t(u))}}function T(n,r,i){var t=Math.min(n.length,r.length)-1,f=new Array(t),l=new Array(t),a=-1;for(n[t]<n[0]&&(n=n.slice().reverse(),r=r.slice().reverse());++a<t;)f[a]=p(n[a],n[a+1]),l[a]=i(r[a],r[a+1]);return function(u){var o=P(n,u,1,t)-1;return l[o](f[o](u))}}function U(n,r){return r.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function V(){var n=N,r=N,i=b,t,f,l,a=m,u,o,e;function h(){var s=Math.min(n.length,r.length);return a!==m&&(a=O(n[0],n[s-1])),u=s>2?T:Q,o=e=null,c}function c(s){return s==null||isNaN(s=+s)?l:(o||(o=u(n.map(t),r,i)))(t(a(s)))}return c.invert=function(s){return a(f((e||(e=u(r,n.map(t),y)))(s)))},c.domain=function(s){return arguments.length?(n=Array.from(s,L),h()):n.slice()},c.range=function(s){return arguments.length?(r=Array.from(s),h()):r.slice()},c.rangeRound=function(s){return r=Array.from(s),i=E,h()},c.clamp=function(s){return arguments.length?(a=s?!0:m,h()):a!==m},c.interpolate=function(s){return arguments.length?(i=s,h()):i},c.unknown=function(s){return arguments.length?(l=s,c):l},function(s,k){return t=s,f=k,h()}}function W(){return V()(m,m)}function X(n,r,i,t){var f=D(n,r,i),l;switch(t=R(t??",f"),t.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(r));return t.precision==null&&!isNaN(l=H(f,a))&&(t.precision=l),q(t,a)}case"":case"e":case"g":case"p":case"r":{t.precision==null&&!isNaN(l=J(f,Math.max(Math.abs(n),Math.abs(r))))&&(t.precision=l-(t.type==="e"));break}case"f":case"%":{t.precision==null&&!isNaN(l=G(f))&&(t.precision=l-(t.type==="%")*2);break}}return F(t)}function Y(n){var r=n.domain;return n.ticks=function(i){var t=r();return C(t[0],t[t.length-1],i??10)},n.tickFormat=function(i,t){var f=r();return X(f[0],f[f.length-1],i??10,t)},n.nice=function(i){i==null&&(i=10);var t=r(),f=0,l=t.length-1,a=t[f],u=t[l],o,e,h=10;for(u<a&&(e=a,a=u,u=e,e=f,f=l,l=e);h-- >0;){if(e=d(a,u,i),e===o)return t[f]=a,t[l]=u,r(t);if(e>0)a=Math.floor(a/e)*e,u=Math.ceil(u/e)*e;else if(e<0)a=Math.ceil(a*e)/e,u=Math.floor(u*e)/e;else break;o=e}return n},n}function Z(){var n=W();return n.copy=function(){return U(n,Z())},A.apply(n,arguments),Y(n)}export{U as a,w as b,W as c,g as d,z as e,L as f,Y as g,V as h,C as i,m as j,P as k,Z as l,E as m,tn as n,X as o,D as t};
