import{r as y,t as T,m as B,v as O,j as e,B as d,g as k,aa as b,C as t,a as l,b as i,ab as P,d as r,ac as E,f as p,T as H,i as L,k as j,l as g,w,n as D,p as W,P as f,S as V,J as G}from"./index-B8YngC3q.js";import{A as z,a as J}from"./alert-B2IpRV-b.js";import{U as x}from"./users-Dvk1p74L.js";import{S as R}from"./scale-wSypqZfl.js";import{C as K}from"./circle-check-KjffmQY6.js";const S={"formulation-agent":e.jsx(b,{className:"w-4 h-4"}),"science-agent":e.jsx(R,{className:"w-4 h-4"}),"compliance-agent":e.jsx(k,{className:"w-4 h-4"}),"operations-agent":e.jsx(V,{className:"w-4 h-4"}),"customer-success-agent":e.jsx(x,{className:"w-4 h-4"})},C={"formulation-agent":"Formulation Agent","science-agent":"Science Agent","compliance-agent":"Compliance Agent","operations-agent":"Operations Agent","customer-success-agent":"Customer Success Agent"},Y=c=>c>=80?"bg-green-500":c>=60?"bg-yellow-500":"bg-red-500",$=c=>c.toLowerCase().includes("high")?"destructive":c.toLowerCase().includes("medium")?"default":"secondary";function ne(){const[c,N]=y.useState(!1),[n,h]=y.useState("human"),[Q,A]=y.useState(!1),M=T(),u={human:"I'm formulating a CBD topical with terpenes and want to use DMSO to improve permeability. What are the science, safety, and regulatory considerations for human use?",veterinary:"I'm developing a CBD topical with DMSO for veterinary applications in dogs and cats. What are the specific safety, efficacy, and regulatory considerations for animal use?",fda:"I want to develop a CBD topical with DMSO as an FDA-approved drug for treating specific medical conditions. What are the clinical trial requirements, safety studies, and regulatory pathway considerations?",personal:"I'm interested in making a CBD topical with DMSO for personal use. What are the safety considerations, formulation guidelines, and legal implications I should be aware of?"}[n],F=s=>{navigator.clipboard.writeText(s),A(!0),setTimeout(()=>A(!1),2e3)},{data:a,isLoading:I}=B({queryKey:["/api/multi-agent/dmso-demo"],enabled:!1}),U=O({mutationFn:async()=>await G("/api/multi-agent/process",{method:"POST",body:JSON.stringify({query:u,primaryAgent:"formulation-agent"})}),onSuccess:s=>{M.setQueryData(["/api/multi-agent/dmso-demo"],s),N(!1)},onError:s=>{console.error("Error processing multi-agent query:",s),N(!1)}}),q=()=>{N(!0),U.mutate()};return I||c?e.jsx("div",{className:"container mx-auto p-6 max-w-6xl",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("h2",{className:"text-2xl font-bold",children:"Processing Multi-Agent Query..."}),e.jsx("p",{className:"text-gray-600",children:"Our AI agents are collaborating to analyze your CBD topical formulation question."})]})}):e.jsxs("div",{className:"container mx-auto p-6 max-w-6xl space-y-6",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Use Case: CBD Topical with DMSO"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Multi-Agent Analysis of Complex Cannabis Formulation Questions"}),e.jsxs("div",{className:"flex justify-center space-x-2 mt-4",children:[e.jsxs(d,{variant:n==="human"?"default":"outline",onClick:()=>h("human"),className:"flex items-center gap-2",children:[e.jsx(x,{className:"w-4 h-4"}),"Human Use"]}),e.jsxs(d,{variant:n==="veterinary"?"default":"outline",onClick:()=>h("veterinary"),className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),"Veterinary"]}),e.jsxs(d,{variant:n==="fda"?"default":"outline",onClick:()=>h("fda"),className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4"}),"FDA Drug"]}),e.jsxs(d,{variant:n==="personal"?"default":"outline",onClick:()=>h("personal"),className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4"}),"Personal Use"]})]})]}),e.jsxs(t,{children:[e.jsx(l,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5"}),"Question to Chat"]})}),e.jsxs(r,{children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"text-sm text-gray-700 mb-3 italic",children:['"',u,'"']}),e.jsx(d,{size:"sm",variant:"outline",onClick:()=>F(u),className:"text-xs",children:Q?e.jsxs(e.Fragment,{children:[e.jsx(K,{className:"w-3 h-3 mr-1"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"w-3 h-3 mr-1"}),"Copy Question"]})})]}),e.jsx("div",{className:"mt-3 text-sm text-gray-600",children:"Copy this question and paste it into any AI chat interface to get multi-agent analysis on your CBD topical formulation."})]})]}),e.jsxs(t,{children:[e.jsx(l,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-5 h-5"}),n==="human"&&"Human Use Query",n==="veterinary"&&"Veterinary Application Query",n==="fda"&&"FDA Drug Development Query",n==="personal"&&"Personal Use Query"]})}),e.jsxs(r,{children:[e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:e.jsx("p",{className:"text-sm font-medium text-gray-700",children:u})}),e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Use Case Context:"}),e.jsxs("p",{className:"text-sm text-blue-700",children:[n==="human"&&"Standard human topical formulation with commercial considerations and consumer safety requirements.",n==="veterinary"&&"Veterinary applications require species-specific safety data, veterinarian oversight, and compliance with animal drug regulations.",n==="fda"&&"FDA drug development pathway requires extensive clinical trials, safety studies, and regulatory approval for therapeutic claims.",n==="personal"&&"Personal use formulations focus on safety, legal compliance, and DIY formulation guidelines for individual use."]})]}),!a&&e.jsx("div",{className:"text-center",children:e.jsxs(d,{onClick:q,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Run Multi-Agent Analysis"]})})]})]}),a&&e.jsxs(e.Fragment,{children:[e.jsxs(t,{children:[e.jsx(l,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(x,{className:"w-5 h-5"}),"Agent Collaboration Overview"]})}),e.jsxs(r,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.involvedAgents.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Agents Involved"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.responses.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Expert Responses"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(a.responses.reduce((s,v)=>s+v.confidence,0)/a.responses.length),"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Avg Confidence"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.involvedAgents.map(s=>e.jsxs(p,{variant:"secondary",className:"flex items-center gap-1",children:[S[s],C[s]]},s))})]})]}),e.jsxs(H,{defaultValue:"responses",className:"w-full",children:[e.jsxs(L,{className:"grid w-full grid-cols-4",children:[e.jsx(j,{value:"responses",children:"Agent Responses"}),e.jsx(j,{value:"consensus",children:"Consensus"}),e.jsx(j,{value:"recommendations",children:"Final Recommendations"}),e.jsx(j,{value:"risks",children:"Risk Assessment"})]}),e.jsx(g,{value:"responses",className:"space-y-4",children:a.responses.map((s,v)=>e.jsxs(t,{children:[e.jsx(l,{children:e.jsxs(i,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[S[s.agent],C[s.agent]]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{variant:s.requiresFollowUp?"destructive":"secondary",children:s.requiresFollowUp?"Follow-up Required":"Complete"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${Y(s.confidence)}`}),e.jsxs("span",{className:"text-sm",children:[s.confidence,"%"]})]})]})]})}),e.jsx(r,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"prose prose-sm max-w-none",children:e.jsx("p",{className:"text-gray-700",children:s.response})}),s.concerns.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-red-600 mb-2 flex items-center gap-1",children:[e.jsx(w,{className:"w-4 h-4"}),"Concerns Identified"]}),e.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:s.concerns.map((o,m)=>e.jsx("li",{className:"text-gray-600",children:o},m))})]}),s.recommendations.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-green-600 mb-2 flex items-center gap-1",children:[e.jsx(D,{className:"w-4 h-4"}),"Recommendations"]}),e.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:s.recommendations.map((o,m)=>e.jsx("li",{className:"text-gray-600",children:o},m))})]}),s.crossReferences.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-600 mb-2",children:"Cross-References"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.crossReferences.map((o,m)=>e.jsx(p,{variant:"outline",className:"text-xs",children:C[o]||o},m))})]})]})})]},v))}),e.jsx(g,{value:"consensus",children:e.jsxs(t,{children:[e.jsx(l,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(x,{className:"w-5 h-5"}),"Multi-Agent Consensus"]})}),e.jsx(r,{children:e.jsx("div",{className:"prose prose-sm max-w-none",children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:a.consensus})})})]})}),e.jsx(g,{value:"recommendations",children:e.jsxs(t,{children:[e.jsx(l,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-5 h-5"}),"Final Recommendations"]})}),e.jsx(r,{children:e.jsx("div",{className:"prose prose-sm max-w-none",children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:a.finalRecommendation})})})]})}),e.jsx(g,{value:"risks",children:e.jsxs(t,{children:[e.jsx(l,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-5 h-5"}),"Risk Assessment"]})}),e.jsxs(r,{children:[e.jsxs(z,{className:"mb-4",children:[e.jsx(w,{className:"h-4 w-4"}),e.jsxs(J,{children:["Risk Level: ",e.jsx(p,{variant:$(a.riskAssessment),children:a.riskAssessment.includes("HIGH")?"HIGH":a.riskAssessment.includes("MEDIUM")?"MEDIUM":"LOW"})]})]}),e.jsx("div",{className:"prose prose-sm max-w-none",children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:a.riskAssessment})})]})]})})]}),e.jsxs(t,{children:[e.jsx(l,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5"}),"Process Timeline"]})}),e.jsxs(r,{children:[e.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Query processed at: ",new Date(a.timestamp).toLocaleString()]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Query Analysis"}),e.jsx("span",{className:"text-green-600",children:"Complete"})]}),e.jsx(f,{value:100,className:"h-2"}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:["Agent Responses (",a.responses.length,")"]}),e.jsx("span",{className:"text-green-600",children:"Complete"})]}),e.jsx(f,{value:100,className:"h-2"}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Consensus Generation"}),e.jsx("span",{className:"text-green-600",children:"Complete"})]}),e.jsx(f,{value:100,className:"h-2"}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Final Recommendations"}),e.jsx("span",{className:"text-green-600",children:"Complete"})]}),e.jsx(f,{value:100,className:"h-2"})]})]})]})]})]})}export{ne as default};
