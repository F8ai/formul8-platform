import{u as Z,e as W,t as X,r as x,m as R,v as h,j as e,f as z,B as t,C as j,a as B,b as F,d as f,E as Y,w as D,T as ee,i as se,k as u,l as g,S as $,D as ae,X as w,Y as te,_ as ne,$ as ie,a0 as re,a1 as S,W as G,I as le,Z as L,P as q,J as p}from"./index-B8YngC3q.js";import{S as ce}from"./sidebar-CO7kkrlU.js";import{P as A}from"./play-DCfOixJ6.js";import{B as C}from"./brain-DEV5rvKH.js";import{G as de}from"./git-branch-wH4xwQE2.js";import{D as I}from"./database-CI_RWL3T.js";import"./activity-Dyg7KEKw.js";function Ne(){const{toast:n}=Z(),{isAuthenticated:T,user:oe}=W(),d=X(),[s,O]=x.useState(null),[K,N]=x.useState(!1),[P,E]=x.useState(""),[v,k]=x.useState("");x.useState([]);const{data:r,isLoading:M}=R({queryKey:["/api/agents/dashboard"],enabled:T});R({queryKey:["/api/baseline-exam/results"],enabled:T});const o=h({mutationFn:async({agentType:a,updates:i})=>await p(`/api/agents/${a}/configure`,{method:"POST",body:JSON.stringify(i)}),onSuccess:()=>{d.invalidateQueries({queryKey:["/api/agents/dashboard"]}),n({title:"Configuration Updated",description:"Agent configuration has been successfully updated"})},onError:a=>{n({title:"Update Failed",description:"Failed to update agent configuration",variant:"destructive"})}}),l=h({mutationFn:async a=>await p(`/api/baseline-exam/run/${a}`,{method:"POST"}),onSuccess:()=>{d.invalidateQueries({queryKey:["/api/baseline-exam/results"]}),n({title:"Baseline Exam Started",description:"Baseline examination is running in the background"})},onError:a=>{n({title:"Exam Failed",description:"Failed to start baseline examination",variant:"destructive"})}}),b=h({mutationFn:async a=>await p(`/api/baseline-exam/trigger-github-action/${a}`,{method:"POST"}),onSuccess:()=>{n({title:"GitHub Action Triggered",description:"Repository workflow has been triggered"})},onError:a=>{n({title:"Trigger Failed",description:"Failed to trigger GitHub Action",variant:"destructive"})}}),y=h({mutationFn:async()=>await p("/api/baseline-exam/run-all",{method:"POST"}),onSuccess:a=>{var i;d.invalidateQueries({queryKey:["/api/agents/dashboard"]}),d.invalidateQueries({queryKey:["/api/baseline-exam/results"]}),n({title:"All Baselines Complete",description:`Baseline exams completed for ${((i=a.results)==null?void 0:i.length)||9} agents`})},onError:a=>{n({title:"Baseline Failed",description:"Failed to run baseline exams for all agents",variant:"destructive"})}}),c=h({mutationFn:async a=>await p(`/api/baseline-exam/self-assess/${a}`,{method:"POST"}),onSuccess:()=>{n({title:"Self-Assessment Complete",description:"Agent has analyzed its performance and created improvement issues"})},onError:a=>{n({title:"Assessment Failed",description:"Failed to conduct self-assessment",variant:"destructive"})}}),Q=()=>{s&&(o.mutate({agentType:s.type,updates:{prompt:P}}),N(!1))},H=()=>{if(!s||!v.trim())return;const a=[...s.configuration.tools,v.trim()];o.mutate({agentType:s.type,updates:{tools:a}}),k("")},U=()=>{s&&o.mutate({agentType:s.type,updates:{ragEnabled:!s.configuration.ragEnabled}})},_=a=>{switch(a){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-red-100 text-red-800";case"development":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},m=a=>a>=90?"text-green-600":a>=80?"text-blue-600":a>=70?"text-yellow-600":"text-red-600";return M?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-10 h-10 bg-formul8-green rounded-lg flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"F8"})}),e.jsx("p",{className:"text-formul8-gray",children:"Loading agents..."})]})}):e.jsxs("div",{className:"min-h-screen flex bg-gray-50",children:[e.jsx(ce,{}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-formul8-dark",children:"AI Agents Dashboard"}),e.jsxs(z,{className:"bg-blue-100 text-blue-800",children:[(r==null?void 0:r.length)||0," Agents"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(t,{onClick:()=>y.mutate(),disabled:y.isPending,className:"bg-green-600 hover:bg-green-700",size:"sm",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),y.isPending?"Running...":"Run All Baselines"]}),e.jsx(t,{onClick:()=>d.invalidateQueries({queryKey:["/api/agents/dashboard"]}),variant:"outline",size:"sm",children:"Refresh"})]})]})}),e.jsx("main",{className:"flex-1 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(j,{children:[e.jsx(B,{children:e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-5 w-5"}),"AI Agents"]})}),e.jsx(f,{children:e.jsx("div",{className:"space-y-3",children:r==null?void 0:r.map(a=>e.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${(s==null?void 0:s.type)===a.type?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>O(a),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-sm",children:a.name}),e.jsx(z,{className:_(a.status),children:a.status})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:a.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:`text-sm font-medium ${m(a.performance.baseline)}`,children:[a.performance.baseline,"% of ",a.performance.corpusSize]}),e.jsx("a",{href:`https://github.com/F8ai/${a.repository}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-gray-600",onClick:i=>i.stopPropagation(),children:e.jsx(Y,{className:"h-4 w-4"})})]})]},a.type))})})]})}),e.jsx("div",{className:"lg:col-span-2",children:s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs(j,{children:[e.jsx(B,{children:e.jsxs(F,{className:"flex items-center justify-between",children:[e.jsx("span",{children:s.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(t,{onClick:()=>l.mutate(s.type),disabled:l.isPending,size:"sm",variant:"outline",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),l.isPending?"Running...":"Run Baseline"]}),e.jsxs(t,{onClick:()=>b.mutate(s.type),disabled:b.isPending,size:"sm",variant:"outline",children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),b.isPending?"Triggering...":"GitHub Action"]}),e.jsxs(t,{onClick:()=>c.mutate(s.type),disabled:c.isPending,size:"sm",variant:"outline",children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),c.isPending?"Assessing...":"Self-Assess"]})]})]})}),e.jsxs(f,{children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-2xl font-bold ${m(s.performance.baseline)}`,children:[s.performance.baseline,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Baseline"}),e.jsx("div",{className:"text-xs text-gray-500",children:s.performance.corpusSize>0?`${s.performance.corpusSize} questions`:"No baseline data"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-2xl font-bold ${m(s.performance.confidence)}`,children:[s.performance.confidence,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Confidence"}),e.jsx("div",{className:"text-xs text-gray-500",children:s.performance.lastExamDate?new Date(s.performance.lastExamDate).toLocaleDateString():"No exam data"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-2xl font-bold ${m(s.performance.accuracy)}`,children:[s.performance.accuracy,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Accuracy"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-2xl font-bold ${m(s.performance.speed)}`,children:[s.performance.speed,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Speed"})]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Repository: ",e.jsx("a",{href:`https://github.com/F8ai/${s.repository}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:s.repository})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Last Updated: ",new Date(s.lastUpdated).toLocaleString()]})]})]}),e.jsx(j,{children:e.jsx(f,{className:"p-0",children:e.jsxs(ee,{defaultValue:"prompt",className:"w-full",children:[e.jsxs(se,{className:"grid w-full grid-cols-5",children:[e.jsx(u,{value:"prompt",children:"Prompt Engineering"}),e.jsx(u,{value:"tools",children:"Tools"}),e.jsx(u,{value:"rag",children:"RAG System"}),e.jsx(u,{value:"baseline",children:"Baseline Exam"}),e.jsx(u,{value:"assessment",children:"Self-Assessment"})]}),e.jsx(g,{value:"prompt",className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"System Prompt"}),e.jsxs(t,{onClick:()=>{N(!0),E(s.configuration.prompt)},size:"sm",variant:"outline",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Edit"]})]}),K?e.jsxs("div",{className:"space-y-4",children:[e.jsx(ae,{value:P,onChange:a=>E(a.target.value),rows:8,placeholder:"Enter system prompt...",className:"font-mono text-sm"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t,{onClick:Q,size:"sm",children:"Save Changes"}),e.jsx(t,{onClick:()=>N(!1),size:"sm",variant:"outline",children:"Cancel"})]})]}):e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:s.configuration.prompt})}),e.jsxs("div",{className:"mt-4",children:[e.jsx(w,{children:"Model Configuration"}),e.jsxs(te,{value:s.configuration.model,onValueChange:a=>o.mutate({agentType:s.type,updates:{model:a}}),children:[e.jsx(ne,{children:e.jsx(ie,{})}),e.jsxs(re,{children:[e.jsx(S,{value:"o3",children:"OpenAI o3"}),e.jsx(S,{value:"gpt-4o",children:"OpenAI GPT-4o"}),e.jsx(S,{value:"claude-3-sonnet",children:"Claude 3 Sonnet"})]})]})]})]})}),e.jsx(g,{value:"tools",className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Available Tools"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[s.configuration.tools.length," tools"]})]}),e.jsx("div",{className:"space-y-2",children:s.configuration.tools.map((a,i)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"font-mono text-sm",children:a})]}),e.jsx(t,{onClick:()=>{const V=s.configuration.tools.filter((me,J)=>J!==i);o.mutate({agentType:s.type,updates:{tools:V}})},size:"sm",variant:"ghost",children:"Remove"})]},i))}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{value:v,onChange:a=>k(a.target.value),placeholder:"Tool name or function",className:"flex-1"}),e.jsx(t,{onClick:H,size:"sm",children:"Add Tool"})]})]})}),e.jsx(g,{value:"rag",className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"RAG System"}),e.jsxs(t,{onClick:U,size:"sm",variant:s.configuration.ragEnabled?"default":"outline",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),s.configuration.ragEnabled?"Enabled":"Disabled"]})]}),s.configuration.ragEnabled?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(L,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"font-semibold text-green-800",children:"RAG System Active"})]}),e.jsx("p",{className:"text-sm text-green-700",children:"This agent has access to specialized knowledge base and can retrieve relevant information to enhance responses."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Documents Indexed"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"1,247"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Last Updated"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"2h ago"})]})]})]}):e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm text-gray-600",children:"RAG system is disabled. This agent relies on its training data and configured tools only."})})]})}),e.jsx(g,{value:"baseline",className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Baseline Examination"}),e.jsxs(t,{onClick:()=>l.mutate(s.type),disabled:l.isPending,size:"sm",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),l.isPending?"Running...":"Run Exam"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(w,{children:"Overall Performance"}),e.jsx(q,{value:s.performance.baseline,className:"mt-2"}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[s.performance.baseline,"% baseline score"]})]}),e.jsxs("div",{children:[e.jsx(w,{children:"Confidence Level"}),e.jsx(q,{value:s.performance.confidence,className:"mt-2"}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[s.performance.confidence,"% confidence"]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Recent Exam Results"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Accuracy Score"}),e.jsxs("span",{children:[s.performance.accuracy,"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Speed Score"}),e.jsxs("span",{children:[s.performance.speed,"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Last Examination"}),e.jsx("span",{children:new Date(s.lastUpdated).toLocaleDateString()})]})]})]})]})}),e.jsx(g,{value:"assessment",className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Self-Assessment"}),e.jsxs(t,{onClick:()=>c.mutate(s.type),disabled:c.isPending,size:"sm",children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),c.isPending?"Assessing...":"Run Assessment"]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(C,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"font-semibold text-blue-800",children:"AI Self-Improvement"})]}),e.jsx("p",{className:"text-sm text-blue-700",children:"The agent analyzes its baseline performance and automatically creates GitHub issues for identified improvements, including new baseline questions to test the enhancements."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Assessment Areas:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[e.jsx(G,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"text-sm",children:"Tool Requirements"})]}),e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[e.jsx(I,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"text-sm",children:"Data Gaps"})]}),e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[e.jsx($,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"text-sm",children:"Prompt Optimization"})]}),e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[e.jsx(L,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"text-sm",children:"Performance Issues"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Latest Assessment"}),e.jsx("div",{className:"text-sm text-gray-600",children:'Click "Run Assessment" to analyze current performance and generate improvement recommendations.'})]})]})})]})})})]}):e.jsx(j,{children:e.jsx(f,{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(C,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Select an Agent"}),e.jsx("p",{className:"text-gray-600",children:"Choose an agent from the list to view and manage its configuration"})]})})})})]})})]})]})}export{Ne as default};
