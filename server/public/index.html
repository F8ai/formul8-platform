<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.8, maximum-scale=3.0, user-scalable=yes, viewport-fit=cover" />
    
    <!-- Performance optimization hints -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    <link rel="preload" href="/manifest.json" as="fetch" crossorigin>
    <link rel="modulepreload" href="data:application/octet-stream;base64,aW1wb3J0IHsgY3JlYXRlUm9vdCB9IGZyb20gInJlYWN0LWRvbS9jbGllbnQiOwppbXBvcnQgQXBwIGZyb20gIi4vQXBwIjsKaW1wb3J0ICIuL2luZGV4LmNzcyI7CgovLyBJbml0aWFsaXplIHBlcmZvcm1hbmNlIG1vbml0b3JpbmcgKGRldiBtb2RlIG9ubHkgZm9yIGRldGFpbGVkIGxvZ2dpbmcpCmlmIChpbXBvcnQubWV0YS5lbnYuREVWKSB7CiAgdHJ5IHsKICAgIGltcG9ydCgnLi91dGlscy9wZXJmb3JtYW5jZScpLnRoZW4oKHsgcGVyZm9ybWFuY2VNb25pdG9yIH0pID0+IHsKICAgICAgLy8gTG9nIHBlcmZvcm1hbmNlIG1ldHJpY3MgYWZ0ZXIgcGFnZSBsb2FkCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4gewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgcGVyZm9ybWFuY2VNb25pdG9yLmxvZ01ldHJpY3MoKTsKICAgICAgICB9LCAxMDAwKTsKICAgICAgfSk7CiAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICBjb25zb2xlLndhcm4oJ1BlcmZvcm1hbmNlIG1vbml0b3JpbmcgZmFpbGVkIHRvIGxvYWQ6JywgZXJyKTsKICAgIH0pOwogIH0gY2F0Y2ggKGVycikgewogICAgY29uc29sZS53YXJuKCdQZXJmb3JtYW5jZSBtb25pdG9yaW5nIG5vdCBhdmFpbGFibGU6JywgZXJyKTsKICB9Cn0KCi8vIFJlZ2lzdGVyIHNlcnZpY2Ugd29ya2VyIGZvciBQV0EgZnVuY3Rpb25hbGl0eSBhbmQgcGVyZm9ybWFuY2UgY2FjaGluZwppZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvciAmJiBpbXBvcnQubWV0YS5lbnYuUFJPRCkgewogIHRyeSB7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHsKICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJy9zdy5qcycpCiAgICAgICAgLnRoZW4oKHJlZ2lzdHJhdGlvbikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coJ1NXIHJlZ2lzdGVyZWQ6ICcsIHJlZ2lzdHJhdGlvbik7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlZ2lzdHJhdGlvbkVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygnU1cgcmVnaXN0cmF0aW9uIGZhaWxlZDogJywgcmVnaXN0cmF0aW9uRXJyb3IpOwogICAgICAgIH0pOwogICAgfSk7CiAgfSBjYXRjaCAoZXJyKSB7CiAgICBjb25zb2xlLndhcm4oJ1NlcnZpY2Ugd29ya2VyIG5vdCBhdmFpbGFibGU6JywgZXJyKTsKICB9Cn0KCnRyeSB7CiAgY29uc3Qgcm9vdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicm9vdCIpOwogIGlmICghcm9vdEVsZW1lbnQpIHsKICAgIHRocm93IG5ldyBFcnJvcigiUm9vdCBlbGVtZW50IG5vdCBmb3VuZCIpOwogIH0KICAKICBjb25zdCByb290ID0gY3JlYXRlUm9vdChyb290RWxlbWVudCk7CiAgCiAgLy8gQWx3YXlzIHVzZSB0aGUgbWFpbiBBcHAgLSByZW1vdmVkIFNhZmFyaSBkZXRlY3Rpb24gbG9naWMKICBjb25zb2xlLmxvZygiTG9hZGluZyBtYWluIEZvcm11bDggYXBwbGljYXRpb24iKTsKICByb290LnJlbmRlcig8QXBwIC8+KTsKCn0gY2F0Y2ggKGVycm9yKSB7CiAgY29uc29sZS5lcnJvcigiRmFpbGVkIHRvIG1vdW50IFJlYWN0IGFwcDoiLCBlcnJvcik7CiAgCiAgLy8gRW5oYW5jZWQgZXJyb3IgcmVwb3J0aW5nIGZvciBwcm9kdWN0aW9uIGRlYnVnZ2luZwogIGNvbnN0IGVycm9yRGV0YWlscyA9IHsKICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSwKICAgIHN0YWNrOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiB1bmRlZmluZWQsCiAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLAogICAgdXNlckFnZW50OiBuYXZpZ2F0b3IudXNlckFnZW50LAogICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkKICB9OwogIAogIC8vIExvZyBkZXRhaWxlZCBlcnJvciBpbmZvcm1hdGlvbgogIGNvbnNvbGUuZXJyb3IoIlJlYWN0IE1vdW50IEVycm9yIERldGFpbHM6IiwgZXJyb3JEZXRhaWxzKTsKICAKICBkb2N1bWVudC5ib2R5LmlubmVySFRNTCA9IGAKICAgIDxkaXYgc3R5bGU9ImJhY2tncm91bmQ6ICMxYTFhMWE7IGNvbG9yOiB3aGl0ZTsgcGFkZGluZzogMjBweDsgZm9udC1mYW1pbHk6IEFyaWFsOyBtaW4taGVpZ2h0OiAxMDB2aDsiPgogICAgICA8aDE+8J+aqCBBcHBsaWNhdGlvbiBGYWlsZWQgdG8gTG9hZDwvaDE+CiAgICAgIDxwPlRoZSBGb3JtdWw4IGFwcGxpY2F0aW9uIGVuY291bnRlcmVkIGFuIGVycm9yIGR1cmluZyBpbml0aWFsaXphdGlvbi48L3A+CiAgICAgIDxwPjxzdHJvbmc+RXJyb3I6PC9zdHJvbmc+ICR7ZXJyb3JEZXRhaWxzLm1lc3NhZ2V9PC9wPgogICAgICAKICAgICAgPGRldGFpbHMgc3R5bGU9Im1hcmdpbi10b3A6IDIwcHg7Ij4KICAgICAgICA8c3VtbWFyeSBzdHlsZT0iY3Vyc29yOiBwb2ludGVyOyBjb2xvcjogIzAwZmY4ODsiPvCflKcgRGVidWcgSW5mb3JtYXRpb24gKENsaWNrIHRvIGV4cGFuZCk8L3N1bW1hcnk+CiAgICAgICAgPHByZSBzdHlsZT0iYmFja2dyb3VuZDogIzJhMmEyYTsgcGFkZGluZzogMTVweDsgYm9yZGVyLXJhZGl1czogNXB4OyBtYXJnaW4tdG9wOiAxMHB4OyBmb250LXNpemU6IDEycHg7IG92ZXJmbG93LXg6IGF1dG87Ij4KVVJMOiAke2Vycm9yRGV0YWlscy51cmx9ClRpbWU6ICR7ZXJyb3JEZXRhaWxzLnRpbWVzdGFtcH0KVXNlciBBZ2VudDogJHtlcnJvckRldGFpbHMudXNlckFnZW50fQoke2Vycm9yRGV0YWlscy5zdGFjayA/IGBcblN0YWNrIFRyYWNlOlxuJHtlcnJvckRldGFpbHMuc3RhY2t9YCA6ICcnfQogICAgICAgIDwvcHJlPgogICAgICA8L2RldGFpbHM+CiAgICAgIAogICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOiAzMHB4OyBwYWRkaW5nOiAxNXB4OyBiYWNrZ3JvdW5kOiAjMmEyYTJhOyBib3JkZXItbGVmdDogNHB4IHNvbGlkICMwMGZmODg7IGJvcmRlci1yYWRpdXM6IDVweDsiPgogICAgICAgIDxoMyBzdHlsZT0ibWFyZ2luOiAwIDAgMTBweCAwOyBjb2xvcjogIzAwZmY4ODsiPvCfkqEgVHJvdWJsZXNob290aW5nPC9oMz4KICAgICAgICA8dWwgc3R5bGU9Im1hcmdpbjogMDsgcGFkZGluZy1sZWZ0OiAyMHB4OyI+CiAgICAgICAgICA8bGk+VHJ5IHJlZnJlc2hpbmcgdGhlIHBhZ2UgKEN0cmwrRjUgb3IgQ21kK1NoaWZ0K1IpPC9saT4KICAgICAgICAgIDxsaT5DbGVhciBicm93c2VyIGNhY2hlIGFuZCByZWxvYWQ8L2xpPgogICAgICAgICAgPGxpPkNoZWNrIGJyb3dzZXIgY29uc29sZSBmb3IgYWRkaXRpb25hbCBlcnJvciBkZXRhaWxzPC9saT4KICAgICAgICAgIDxsaT5FbnN1cmUgSmF2YVNjcmlwdCBpcyBlbmFibGVkPC9saT4KICAgICAgICA8L3VsPgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogIGA7Cn0K">
    
    <!-- Critical CSS - Above the fold styles -->
    <style>
      /* Critical loading styles */
      #root { min-height: 100vh; background: hsl(220, 13%, 8%); }
      .loading-screen { 
        position: fixed; top: 0; left: 0; right: 0; bottom: 0; 
        background: hsl(220, 13%, 8%); 
        display: flex; align-items: center; justify-content: center; 
        z-index: 9999;
      }
      .loading-spinner { 
        width: 32px; height: 32px; 
        border: 2px solid hsl(180, 88%, 55%); 
        border-top-color: transparent; 
        border-radius: 50%; 
        animation: spin 1s linear infinite; 
      }
      @keyframes spin { to { transform: rotate(360deg); } }
      /* Prevent FOUC */
      body { margin: 0; background: hsl(220, 13%, 8%); }
    </style>
    
    <!-- Meta tags -->
    <meta name="theme-color" content="#059669" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Formul8" />
    <meta name="application-name" content="Formul8" />
    <meta name="description" content="Professional cannabis AI workspace with specialized agents and tools" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-TileColor" content="#059669" />
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json" />
    
    <!-- Icons for iOS Safari - PNG required -->
    <link rel="apple-touch-icon" sizes="120x120" href="/images/icon-120.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/images/icon-144.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/images/icon-152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/images/icon-180.png" />
    <link rel="apple-touch-icon" href="/images/formul8-logo.png" />
    
    <!-- Standard favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="/images/formul8-logo.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="/images/icon-192.png" />
    <link rel="shortcut icon" href="/images/formul8-logo.png" />
    
    <title>Formul8 Cannabis AI Workspace</title>
    <script type="module" crossorigin src="/assets/index-B8YngC3q.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/index-sXWoqLaY.css">
  </head>
  <body>
    <div id="root">
      <!-- Initial loading screen to prevent flash -->
      <div class="loading-screen">
        <div class="loading-spinner"></div>
      </div>
    </div>
    <!-- This is a replit script which adds a banner on the top of the page when opened in development mode outside the replit environment -->
    <script type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js"></script>
  </body>
</html>